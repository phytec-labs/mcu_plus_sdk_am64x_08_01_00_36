<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" href="favicon.png" type="image/png">    
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<title>AM64x MCU+ SDK: EPWM</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<style>
.tinav {
    background: #c00;
    /* height: 41.375px; */
    height: 30px;
    }
</style>    
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 40px;">
  <td id="projectlogo"><a href="https://www.ti.com"><img alt="Logo" src="ti_logo.svg"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AM64x MCU+ SDK
   &#160;<span id="projectnumber">08.01.00</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
<div class=tinav></div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('DRIVERS_EPWM_PAGE.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">EPWM </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md455">Features Supported</a></li>
<li class="level1"><a href="#autotoc_md456">SysConfig Features</a></li>
<li class="level1"><a href="#autotoc_md457">Features NOT Supported</a></li>
<li class="level1"><a href="#autotoc_md458">Important Usage Guidelines</a></li>
<li class="level1"><a href="#autotoc_md459">Example Usage</a></li>
<li class="level1"><a href="#autotoc_md460">API</a></li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="md_components_drivers_epwm"></a></p>
<p>The ePWM driver provides API to configure various sub-modules within the ePWM module. Below are the high level features supported by the driver.</p>
<h1><a class="anchor" id="autotoc_md455"></a>
Features Supported</h1>
<ul>
<li>Configuration of Time Base submodule to set time-base clock, counter mode,</li>
<li>Configuration of Counter Compare submodule to specify duty cycle</li>
<li>Configuration of Action Qualifier submodule to specify the type of action to take when time-base or counter-compare event occurs</li>
<li>Configuration of Dead Band submodule to set rising-edge and falling-edge delay or bypass the module</li>
<li>Configuration of Chopper submodule to generate a chopper frequency, set pulse width of the first pulse in the chopped pulse train or bypass the module</li>
<li>Configuration of Trip Zone submodule to specify the tripping action to take when a fault occurs</li>
<li>Configuration of event-trigger submodule to trigger an interrupt and rate at which these events occur</li>
</ul>
<h1><a class="anchor" id="autotoc_md456"></a>
SysConfig Features</h1>
<dl class="section note"><dt>Note</dt><dd>It is strongly recommend to use SysConfig where it is available instead of using direct SW API calls. This will help simplify the SW application and also catch common mistakes early in the development cycle.</dd></dl>
<ul>
<li>Selection of output channels.</li>
<li>Configuring pinmux based on selected pin.</li>
<li>Enabling TimeBase Clock based on selected ePWM instance.</li>
</ul>
<h1><a class="anchor" id="autotoc_md457"></a>
Features NOT Supported</h1>
<ul>
<li>ePWM digital comparator modules</li>
<li>ePWM high-resolution modules</li>
</ul>
<h1><a class="anchor" id="autotoc_md458"></a>
Important Usage Guidelines</h1>
<p>NA</p>
<h1><a class="anchor" id="autotoc_md459"></a>
Example Usage</h1>
<p>Include the below file to access the APIs </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="epwm_8h.html">drivers/epwm.h</a>&gt;</span></div>
</div><!-- fragment --><p> Check external Synchronization signal </p><div class="fragment"><div class="line">    uint16_t tbStatus = <a class="code" href="group__DRV__EPWM__MODULE.html#gaaa22a30b779b4572952fdbb23b466ac8">Epwm_tbGetStatus</a>(ePWMBaseAddr, <a class="code" href="group__DRV__EPWM__MODULE.html#ga6c14239a94d052ef9a7d4a69b2d1a240">EPWM_TB_STS_SYNCI</a>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span>(0 == tbStatus)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a>(<span class="stringliteral">&quot;External Synchronization event has occured\r\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a>(<span class="stringliteral">&quot;No external Synchronization event has occured\r\n&quot;</span>);</div>
<div class="line">    }</div>
</div><!-- fragment --><p> Get Timebase Counter direction </p><div class="fragment"><div class="line">    uint16_t tbStatus = <a class="code" href="group__DRV__EPWM__MODULE.html#gaaa22a30b779b4572952fdbb23b466ac8">Epwm_tbGetStatus</a>(ePWMBaseAddr, <a class="code" href="group__DRV__EPWM__MODULE.html#ga91a2682a21e9ee70a8a6d53eb9959560">EPWM_TB_STS_CTR_DIR</a>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span>(0 == tbStatus)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a>(<span class="stringliteral">&quot;Time base counter is currently counting down\r\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a>(<span class="stringliteral">&quot;Time base counter is currently counting up\r\n&quot;</span>);</div>
<div class="line">    }</div>
</div><!-- fragment --><p> Configure Counter compare </p><div class="fragment"><div class="line">    uint32_t counterCmpVal = 0x100;</div>
<div class="line">    uint32_t status;</div>
<div class="line"> </div>
<div class="line">    status = <a class="code" href="group__DRV__EPWM__MODULE.html#ga9d3d3955fde04959aefca181f514978b">Epwm_counterComparatorCfg</a>(ePWMBaseAddr, <a class="code" href="group__DRV__EPWM__MODULE.html#gae64c005c0fcdbfe23d22029a822a11ab">EPWM_CC_CMP_A</a>, counterCmpVal, <a class="code" href="group__DRV__EPWM__MODULE.html#ga33991134efe453722f664e5cf3ad48c1">EPWM_SHADOW_REG_CTRL_ENABLE</a>, <a class="code" href="group__DRV__EPWM__MODULE.html#gae02737aa0e35e61c756c41e0ca123a12">EPWM_CC_CMP_LOAD_MODE_CNT_EQ_PRD</a>, FALSE);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span>(TRUE == status)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a>(<span class="stringliteral">&quot;Comparator value was written successfully\r\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a>(<span class="stringliteral">&quot;Comparator value write failed\r\n&quot;</span>);</div>
<div class="line">    }</div>
</div><!-- fragment --> <h1><a class="anchor" id="autotoc_md460"></a>
API</h1>
<p><a class="el" href="group__DRV__EPWM__MODULE.html">APIs for EPWM</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div class="ttc" id="aepwm_8h_html"><div class="ttname"><a href="epwm_8h.html">epwm.h</a></div></div>
<div class="ttc" id="agroup__DRV__EPWM__MODULE_html_gae64c005c0fcdbfe23d22029a822a11ab"><div class="ttname"><a href="group__DRV__EPWM__MODULE.html#gae64c005c0fcdbfe23d22029a822a11ab">EPWM_CC_CMP_A</a></div><div class="ttdeci">#define EPWM_CC_CMP_A</div><div class="ttdef"><b>Definition:</b> epwm/v0/epwm.h:253</div></div>
<div class="ttc" id="agroup__KERNEL__DPL__DEBUG_html_gafe348ab5badd2c15118f95e21bb192c6"><div class="ttname"><a href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a></div><div class="ttdeci">#define DebugP_log(format,...)</div><div class="ttdoc">Function to log a string to the enabled console.</div><div class="ttdef"><b>Definition:</b> DebugP.h:211</div></div>
<div class="ttc" id="agroup__DRV__EPWM__MODULE_html_gae02737aa0e35e61c756c41e0ca123a12"><div class="ttname"><a href="group__DRV__EPWM__MODULE.html#gae02737aa0e35e61c756c41e0ca123a12">EPWM_CC_CMP_LOAD_MODE_CNT_EQ_PRD</a></div><div class="ttdeci">#define EPWM_CC_CMP_LOAD_MODE_CNT_EQ_PRD</div><div class="ttdef"><b>Definition:</b> epwm/v0/epwm.h:297</div></div>
<div class="ttc" id="agroup__DRV__EPWM__MODULE_html_ga9d3d3955fde04959aefca181f514978b"><div class="ttname"><a href="group__DRV__EPWM__MODULE.html#ga9d3d3955fde04959aefca181f514978b">Epwm_counterComparatorCfg</a></div><div class="ttdeci">uint32_t Epwm_counterComparatorCfg(uint32_t baseAddr, uint32_t cmpType, uint32_t cmpVal, uint32_t enableShadowWrite, uint32_t shadowToActiveLoadTrigger, uint32_t overwriteShadow)</div><div class="ttdoc">This API configures the counter comparator and loads the comparator value. When Counter comparator va...</div></div>
<div class="ttc" id="agroup__DRV__EPWM__MODULE_html_gaaa22a30b779b4572952fdbb23b466ac8"><div class="ttname"><a href="group__DRV__EPWM__MODULE.html#gaaa22a30b779b4572952fdbb23b466ac8">Epwm_tbGetStatus</a></div><div class="ttdeci">uint16_t Epwm_tbGetStatus(uint32_t baseAddr, uint32_t tbStatusMask)</div><div class="ttdoc">This API gets the Time Base status as indicated by the tbStatusMask parameter.</div></div>
<div class="ttc" id="agroup__DRV__EPWM__MODULE_html_ga33991134efe453722f664e5cf3ad48c1"><div class="ttname"><a href="group__DRV__EPWM__MODULE.html#ga33991134efe453722f664e5cf3ad48c1">EPWM_SHADOW_REG_CTRL_ENABLE</a></div><div class="ttdeci">#define EPWM_SHADOW_REG_CTRL_ENABLE</div><div class="ttdef"><b>Definition:</b> epwm/v0/epwm.h:174</div></div>
<div class="ttc" id="agroup__DRV__EPWM__MODULE_html_ga6c14239a94d052ef9a7d4a69b2d1a240"><div class="ttname"><a href="group__DRV__EPWM__MODULE.html#ga6c14239a94d052ef9a7d4a69b2d1a240">EPWM_TB_STS_SYNCI</a></div><div class="ttdeci">#define EPWM_TB_STS_SYNCI</div><div class="ttdef"><b>Definition:</b> epwm/v0/epwm.h:219</div></div>
<div class="ttc" id="agroup__DRV__EPWM__MODULE_html_ga91a2682a21e9ee70a8a6d53eb9959560"><div class="ttname"><a href="group__DRV__EPWM__MODULE.html#ga91a2682a21e9ee70a8a6d53eb9959560">EPWM_TB_STS_CTR_DIR</a></div><div class="ttdeci">#define EPWM_TB_STS_CTR_DIR</div><div class="ttdef"><b>Definition:</b> epwm/v0/epwm.h:221</div></div>
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
