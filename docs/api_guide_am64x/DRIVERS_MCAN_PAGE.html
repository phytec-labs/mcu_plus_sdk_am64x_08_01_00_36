<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" href="favicon.png" type="image/png">    
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<title>AM64x MCU+ SDK: MCAN</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<style>
.tinav {
    background: #c00;
    /* height: 41.375px; */
    height: 30px;
    }
</style>    
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 40px;">
  <td id="projectlogo"><a href="https://www.ti.com"><img alt="Logo" src="ti_logo.svg"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AM64x MCU+ SDK
   &#160;<span id="projectnumber">08.01.00</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
<div class=tinav></div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('DRIVERS_MCAN_PAGE.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">MCAN </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md505">Features Supported</a></li>
<li class="level1"><a href="#autotoc_md506">SysConfig Features</a></li>
<li class="level1"><a href="#autotoc_md507">Features NOT Supported</a></li>
<li class="level1"><a href="#autotoc_md508">Usage</a><ul><li class="level2"><a href="#autotoc_md509">Message Ram Initialization</a></li>
<li class="level2"><a href="#autotoc_md510">Acceptance filtering</a></li>
<li class="level2"><a href="#autotoc_md511">Filter Types</a><ul><li class="level3"><a href="#autotoc_md512">Range Filter</a></li>
<li class="level3"><a href="#autotoc_md513">Filter for specific IDs</a></li>
<li class="level3"><a href="#autotoc_md514">Classic Bit Mask Filter</a></li>
</ul>
</li>
<li class="level2"><a href="#autotoc_md515">Filter Element Configuration</a></li>
<li class="level2"><a href="#autotoc_md516">Tx Buffer/FIFO Configuration</a></li>
</ul>
</li>
<li class="level1"><a href="#autotoc_md517">Important Usage Guidelines</a><ul><li class="level2"><a href="#autotoc_md518">Bit Rate Calculation</a></li>
<li class="level2"><a href="#autotoc_md519">CAN bus termination</a></li>
<li class="level2"><a href="#autotoc_md520">Transceiver Delay Compensation Value(TDCV)</a></li>
<li class="level2"><a href="#autotoc_md521">Things to consider/check before sending a message over CAN bus</a></li>
<li class="level2"><a href="#autotoc_md522">Debug CAN communication failure</a></li>
</ul>
</li>
<li class="level1"><a href="#MCAN_EXAMPLE_USAGE">Example Usage</a></li>
<li class="level1"><a href="#autotoc_md523">API</a></li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="md_components_drivers_mcan"></a></p>
<p>The Controller Area Network (CAN) is a serial communication protocol which efficiently supports distributed real-time control. The MCAN module supports both classic CAN and CAN FD (CAN with Flexible Data-Rate) specifications. CAN FD feature allows high throughput and increased payload per data frame. The driver provides API's to configure the MCAN module. Below are the high level features supported by the MCAN driver.</p>
<h1><a class="anchor" id="autotoc_md505"></a>
Features Supported</h1>
<ul>
<li>MCAN module conforms with CAN Protocol 2.0 A, B and ISO 11898-1:2015</li>
<li>Configure CAN FD mode to support Full CAN FD (up to 64 data bytes)</li>
<li>Transmit and Receive classic CAN and and CAN FD message formats</li>
<li>Configure Up to 32 dedicated Transmit Buffers</li>
<li>Configure Transmit FIFO, up to 32 elements(Buffer + FIFO combined up to 32)</li>
<li>Configure Transmit Event FIFO, up to 32 elements</li>
<li>Configure Up to 64 dedicated Receive Buffers</li>
<li>Configure Two configurable Receive FIFOs, up to 64 elements each</li>
<li>Configure Up to 128 Standard Id filter elements</li>
<li>Configure Up to 64 Extended Id filter elements</li>
<li>Configure Bit timing parameters</li>
<li>Configure Global filter to receive non-matching messages</li>
<li>Configure Maskable interrupts and two interrupt lines</li>
<li>Api's to read protocol status register(useful in case of communication failures)</li>
</ul>
<h1><a class="anchor" id="autotoc_md506"></a>
SysConfig Features</h1>
<dl class="section note"><dt>Note</dt><dd>It is strongly recommend to use SysConfig where it is available instead of using direct SW API calls. This will help simplify the SW application and also catch common mistakes early in the development cycle.</dd></dl>
<p>SysConfig can be used to configure below parameters apart from common configuration like Clock, MPU, RAT and others.</p><ul>
<li>MCAN instances and pin configurations.</li>
</ul>
<h1><a class="anchor" id="autotoc_md507"></a>
Features NOT Supported</h1>
<ul>
<li>DMA mode of operation</li>
</ul>
<h1><a class="anchor" id="autotoc_md508"></a>
Usage</h1>
<h2><a class="anchor" id="autotoc_md509"></a>
Message Ram Initialization</h2>
<p>The MCAN module has implemented Message RAM. The main purpose of the Message RAM is to store:</p>
<ul>
<li>Receive Messages</li>
<li>Transmit Messages</li>
<li>Tx Event Elements</li>
<li>Message ID Filter Elements</li>
</ul>
<p>User just needs to configure the number of elements required based on their usecase.</p>
<h2><a class="anchor" id="autotoc_md510"></a>
Acceptance filtering</h2>
<p>The MCAN module is capable to configure two sets of acceptance filters - one set for standard and one set for extended identifiers. These filters can be assigned to an Rx Buffer or to one of the two Rx FIFOs. The main features of the filter elements are:</p>
<ul>
<li>Each filter element can be configured as:<ul>
<li>Range Filter (from - to)</li>
<li>Filter for specific IDs (for one or two dedicated IDs)</li>
<li>Classic Bit Mask Filter</li>
</ul>
</li>
<li>Each filter element can be enabled/disabled individually</li>
<li>Each filter element can be configured for acceptance or rejection filtering</li>
<li>Filters are checked sequentially and execution (acceptance filtering procedure) stops at the first matching filter element or when the end of the filter list is reached</li>
</ul>
<p>Depending on the configuration of the filter element if filter matches, one of the following actions is performed:</p><ul>
<li>Received frame is stored in FIFO 0 or FIFO 1</li>
<li>Received frame is stored in Rx Buffer</li>
</ul>
<p>To receive all the messages without acceptance filtering, you need to configure <b>anfe</b> and <b>anfs</b> fields of Global filter register. Please refer section "Acceptance Filtering" in technical reference manual for more details.</p>
<h2><a class="anchor" id="autotoc_md511"></a>
Filter Types</h2>
<p>Basically there are 3 types of filter which MCAN module supports.</p>
<h3><a class="anchor" id="autotoc_md512"></a>
Range Filter</h3>
<p>Each filter element can be configured to operate as Range Filter (Standard Filter Type SFT = 00/Extended Filter Type EFT = 00). The filter matches for all received message frames with IDs in the range from SFID1 to SFID2 (SFID2 &gt;= SFID1) and respectively in the range from EFID1 to EFID2 (EFID2 &gt;= EFID1).</p>
<p>There are two options for range filtering of extended frames:</p><ul>
<li>Extended Filter Type EFT = 00: The Extended ID AND Mask is used for Range Filtering. The Message ID of received frames is ANDed with the Extended ID AND Mask before the range filter is applied.</li>
<li>Extended Filter Type EFT = 11: The Extended ID AND Mask (MCAN_XIDAM) is not used for Range Filtering.</li>
</ul>
<h3><a class="anchor" id="autotoc_md513"></a>
Filter for specific IDs</h3>
<p>Each filter element can be configured to filter one or two dedicated Message IDs (Standard Filter Type SFT =01/ Extended Filter Type EFT =01). To filter only one specific Message ID, the filter element has to be configured with SFID1 = SFID2 respectively EFID1 = EFID2.</p>
<h3><a class="anchor" id="autotoc_md514"></a>
Classic Bit Mask Filter</h3>
<p>Classic bit mask filtering can filter groups of Message IDs (Standard Filter Type SFT =10/Extended Filter Type EFT =10). This is done by masking single bits of a received Message ID. In this case SFID1/EFID1 element is used as Message ID filter, while SFID2/EFID2 element is used as filter mask. A 0 bit at the filter mask (SFID2/EFID2) will mask out the corresponding bit position of the configured Message ID filter (SFID1/EFID1) and the value of the received Message ID at that bit position is not relevant for acceptance filtering. Only those bits of the received Message ID where the corresponding mask bits are 1 are relevant for acceptance filtering. There are two interesting cases:</p>
<ul>
<li>All mask bits are 1: a match occurs only when the received Message ID and the configured Message ID filter are identical.</li>
<li>All mask bits are 0: all Message IDs match.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>For example: if sfid1(message id) is 0xC0 and sfid2(mask) is 0xF then all the messages ranged from 0xC0 to 0xCF will be received. In case you want to receive all messages, sfid2(mask) need to be set to 0x0.</dd></dl>
<h2><a class="anchor" id="autotoc_md515"></a>
Filter Element Configuration</h2>
<p>Up to 128 filter elements can be configured for 11-bit standard IDs and 64 filter elements can be configured for 29-bit extended IDs. Each filter element have 4 following parameters to be configured.</p>
<ul>
<li>sfid1/efid1 : Defines the ID of the message to be stored</li>
<li>sfid2/efid2 : Defines the second ID.This field has a different meaning depending on sfec/efec. In case buffer is configured then sfid2/efid2 filters to Rx buffer number[0-63]</li>
<li>sfec/efec : Place to store message(Buffer/FIFO0/FIFO1)</li>
<li>sft/eft : Filter Types</li>
</ul>
<h2><a class="anchor" id="autotoc_md516"></a>
Tx Buffer/FIFO Configuration</h2>
<p>The MCAN module supports up to 32 Tx Buffers. These Tx Buffers can be configured as dedicated Tx Buffers, Tx FIFO and as combination of dedicated Tx Buffers/Tx FIFO. In the message RAM, FIFO is allocated only after the number of buffers allocated. i.e.</p>
<div class="fragment"><div class="line">txFifoStartAddr = txBufStartAddr + txBufCnt;</div>
</div><!-- fragment --><p>Dedicated Tx Buffers are intended for message transmission under complete control of the Host CPU. There are two options:</p><ul>
<li>Each dedicated Tx Buffer is configured with a specific Message ID.</li>
<li>Two or more dedicated Tx Buffers are configured with the same Message ID. In this case the Tx Buffer with the lowest buffer number is transmitted first.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Please refer <a class="el" href="group__DRV__MCAN__MODULE.html">APIs for MCAN</a> for more details and <a class="el" href="DRIVERS_MCAN_PAGE.html#MCAN_EXAMPLE_USAGE">Example Usage</a> for code snippets.</dd></dl>
<h1><a class="anchor" id="autotoc_md517"></a>
Important Usage Guidelines</h1>
<h2><a class="anchor" id="autotoc_md518"></a>
Bit Rate Calculation</h2>
<p>Formula for bit-rate is:</p>
<div class="fragment"><div class="line">Sampling Point(%) = (1 + TSEG1) / (1 + TSEG1 + TSEG2)</div>
<div class="line"> </div>
<div class="line">TSEG1, TSEG2: Time Segments expressed in terms of number of Tq(Time Quantum)</div>
<div class="line"> </div>
<div class="line">Tq: the period of the CAN module functional clock.</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md519"></a>
CAN bus termination</h2>
<p>CAN bus termination is needed to minimize the reflection, to reduce the noise. The transmission lines must be terminated to make sure noise does not cause communication failure.</p>
<p>There are two types of CAN termination:</p>
<ul>
<li>Standard termination: The traditional 120 Ohm resistor(RL) is used on each end of the bus.</li>
<li>Split Termination Two 60 Ohm(RL/2) resistors along with capacitor(CL) is used to suppress the noise at both ends of the bus. Typical value of CL for 1.1 Mbps is 4.7 nF.</li>
</ul>
<p>Please note RL and CL values are dependent on a signaling rate.</p>
<h2><a class="anchor" id="autotoc_md520"></a>
Transceiver Delay Compensation Value(TDCV)</h2>
<p>CAN is a broadcast protocol, every node on the bus sees the message on the bus even if it is Tx node. Tx node uses this data on Rx line for integrity and error checks locally. Overview of a bit flow through different stages in communication is:</p>
<div class="fragment"><div class="line">CAN module core -&gt; CAN module Tx line -&gt; SoC Tx Pin/PAD -&gt; Transceiver Out -&gt; CAN Bus -&gt; Transceiver In -&gt; SoC Rx Pin/PAD -&gt; CAN module Rx line -&gt; CAN module core</div>
</div><!-- fragment --><p>In the above path flow, introduces latency between data going out from Tx line to data coming in on Rx line. Major part of this latency comes from Transceiver. Hence it is called Transceiver Delay Compensation Value. This needs to programmed as controller has to adjust it's Secondary Sampling Point(SSP) for sampling Rx line at the correct time.</p>
<ul>
<li>MCAN provides functionality to measure delay between transition on Tx line and same transition for Rx line. User need not to measure transceiver loop-back delay or refer transceiver documentation for the same. User just needs to program SSP position which could be same as Sampling Point(SP).</li>
</ul>
<h2><a class="anchor" id="autotoc_md521"></a>
Things to consider/check before sending a message over CAN bus</h2>
<p>Make sure following is done/checked before attempting communication on bus:</p>
<ul>
<li>ISO-11898 compatible transceivers have to be connected to a CAN bus.</li>
<li>CAN bus should have proper termination.</li>
<li>CAN_L lines from nodes shall be connected together and same goes for CAN_H and GND lines as well.</li>
<li>Make sure all connections are firm and all pins properly connected.</li>
<li>All node on the bus are configured for same bit rate.</li>
<li>In case of CAN FD, make sure Transceiver Delay Compensation value is correctly programmed.</li>
<li>CAN module is powered up and configured properly.</li>
<li>SoC pins/PADs for CAN are configured properly.</li>
</ul>
<h2><a class="anchor" id="autotoc_md522"></a>
Debug CAN communication failure</h2>
<p>When any CAN message transmission/reception fails, controller updates LEC (Last Error Code) and DLEC (Data Phase Last Error Code) fields in status register('MCAN_PSR')</p>
<p><b>LEC</b>: this field is updated when error happened in arbitration phase in case of CAN FD message or during full message for classic CAN message.</p>
<p><b>DLEC</b>: this field is updated when error happened in data phase in case of CAN FD message.</p>
<p>LEC/DLEC fields have following errors:</p>
<ul>
<li><b>Stuff Error</b><ul>
<li>Node type: Rx</li>
<li>Description: More than 5 equal bits in a sequence have occurred in a part of a received message where this is not allowed.</li>
<li>Check if all the nodes on the bus have same bit-rate.</li>
</ul>
</li>
<li><b>Form Error</b><ul>
<li>Node type: Rx</li>
<li>Description: A fixed format part of a received frame has the wrong format.</li>
<li>This could happen if receiver node have drift in CAN functional clock momentarily or bus have interference.</li>
</ul>
</li>
<li><b>Ack Error</b><ul>
<li>Node Type: Tx</li>
<li>Description: The message transmitted by the MCAN module was not acknowledged by another node.</li>
<li>CAN bus should have more than one nodes(apart for transmitting node) up and running(not in sleep or power down state).</li>
</ul>
</li>
<li><b>Bit1 Error and Bit0 Error</b><ul>
<li>Node Type: Tx</li>
<li>Description:<ul>
<li><b>Bit1 Error</b>: During the transmission of a message (with the exception of the arbitration field), the device wanted to send a recessive level (bit of logical value 1), but the monitored bus value was dominant.</li>
<li><b>Bit0 Error</b>: During the transmission of a message (acknowledge bit, active error flag, or overload flag), the device wanted to send a dominant level (data or identifier bit logical value 0), but the monitored bus value was recessive.</li>
</ul>
</li>
<li>Tx and Rx lines are sampled at Sampling Point (SP) and Secondary Sampling Point (SSP) respectively have different values. Position of SSP is configurable.</li>
<li>This can happen in following cases:<ul>
<li>Check if tx and rx pins are configured properly. These pins should be pulled high by default i.e. when bus is idle(no communication is going on).</li>
<li>Check if CAN transceiver is enabled.</li>
<li>For LEC:<ul>
<li>If configured SP is too large for given node.</li>
<li>Segment after SP(TSEG2) should be large enough to compensate for Transceiver Delay.</li>
</ul>
</li>
<li>For DLEC:<ul>
<li>Configured Transceiver Delay Compensation value is less/more than required.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><b>CRC Error</b><ul>
<li>Node type: Rx</li>
<li>Description: The CRC check sum of a received message was incorrect. The CRC of an incoming message does not match with the CRC calculated from the received data.</li>
<li>This could happen if receiver node have drift in CAN functional clock momentarily or bus have interference.</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="MCAN_EXAMPLE_USAGE"></a>
Example Usage</h1>
<p>Include the below file to access the APIs </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="mcan_8h.html">drivers/mcan.h</a>&gt;</span></div>
</div><!-- fragment --><p> MCAN Interrupt Registration </p><div class="fragment"><div class="line">    int32_t                 status = <a class="code" href="group__KERNEL__DPL__SYSTEM.html#ga47e638d7c694e6d42e57b96b071b8a6f">SystemP_SUCCESS</a>;</div>
<div class="line">    <a class="code" href="structHwiP__Params.html">HwiP_Params</a>             hwiPrms;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Register interrupt */</span></div>
<div class="line">    <a class="code" href="group__KERNEL__DPL__HWI.html#ga33f02161b1837b41f08ba064f1001045">HwiP_Params_init</a>(&amp;hwiPrms);</div>
<div class="line">    hwiPrms.<a class="code" href="structHwiP__Params.html#a943b3d55a5aaa669f8bcb04017fdf2a1">intNum</a>      = APP_MCAN_INTR_NUM;</div>
<div class="line">    hwiPrms.<a class="code" href="structHwiP__Params.html#ab8f50b1b2f678cc3ce395ee6bc89c55c">callback</a>    = &amp;App_mcanIntrISR;</div>
<div class="line">    status              = <a class="code" href="group__KERNEL__DPL__HWI.html#gacda2e6e40428be67320f57d0676e4bd1">HwiP_construct</a>(&amp;gMcanHwiObject, &amp;hwiPrms);</div>
<div class="line">    <a class="code" href="group__KERNEL__DPL__DEBUG.html#ga552e9055ca7eab5fe6c224c6cd5a9d4c">DebugP_assert</a>(status == <a class="code" href="group__KERNEL__DPL__SYSTEM.html#ga47e638d7c694e6d42e57b96b071b8a6f">SystemP_SUCCESS</a>);</div>
</div><!-- fragment --><p> MCAN Message RAM Configuration </p><div class="fragment"><div class="line">    <a class="code" href="group__DRV__MCAN__MODULE.html#gaf02ac3de135966a778b423a803a63b54">MCAN_initMsgRamConfigParams</a>(msgRAMConfigParams);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Configure the user required msg ram params */</span></div>
<div class="line">    msgRAMConfigParams-&gt;lss = APP_MCAN_STD_ID_FILTER_CNT;</div>
<div class="line">    msgRAMConfigParams-&gt;lse = APP_MCAN_EXT_ID_FILTER_CNT;</div>
<div class="line">    msgRAMConfigParams-&gt;txBufCnt = APP_MCAN_TX_BUFF_CNT;</div>
<div class="line">    msgRAMConfigParams-&gt;txFIFOCnt = APP_MCAN_TX_FIFO_CNT;</div>
<div class="line">    <span class="comment">/* Buffer/FIFO mode is selected */</span></div>
<div class="line">    msgRAMConfigParams-&gt;txBufMode = <a class="code" href="group__DRV__MCAN__MODULE.html#ga80fcef6174f6291fd401d039526b45f9">MCAN_TX_MEM_TYPE_BUF</a>;</div>
<div class="line">    msgRAMConfigParams-&gt;txEventFIFOCnt = APP_MCAN_TX_EVENT_FIFO_CNT;</div>
<div class="line">    msgRAMConfigParams-&gt;rxFIFO0Cnt = APP_MCAN_FIFO_0_CNT;</div>
<div class="line">    msgRAMConfigParams-&gt;rxFIFO1Cnt = APP_MCAN_FIFO_1_CNT;</div>
<div class="line">    <span class="comment">/* FIFO blocking mode is selected */</span></div>
<div class="line">    msgRAMConfigParams-&gt;rxFIFO0OpMode = <a class="code" href="group__DRV__MCAN__MODULE.html#ga882f5068fe5e27989e0e21dbb1d757d1">MCAN_RX_FIFO_OPERATION_MODE_BLOCKING</a>;</div>
<div class="line">    msgRAMConfigParams-&gt;rxFIFO1OpMode = <a class="code" href="group__DRV__MCAN__MODULE.html#ga882f5068fe5e27989e0e21dbb1d757d1">MCAN_RX_FIFO_OPERATION_MODE_BLOCKING</a>;</div>
<div class="line"> </div>
<div class="line">    status = <a class="code" href="group__DRV__MCAN__MODULE.html#ga87168343ce8f630f6a0bc366460d19cb">MCAN_calcMsgRamParamsStartAddr</a>(msgRAMConfigParams);</div>
<div class="line">    <a class="code" href="group__KERNEL__DPL__DEBUG.html#ga552e9055ca7eab5fe6c224c6cd5a9d4c">DebugP_assert</a>(status == CSL_PASS);</div>
</div><!-- fragment --><p> MCAN Rx Standard Filter Element Configuration </p><div class="fragment"><div class="line">    <span class="comment">/* sfid1 defines the ID of the standard message to be stored. */</span></div>
<div class="line">    stdFiltElem-&gt;sfid1 = APP_MCAN_STD_ID;</div>
<div class="line">    <span class="comment">/* As buffer mode is selected, sfid2 should be bufNum[0 - 63] */</span></div>
<div class="line">    stdFiltElem-&gt;sfid2 = bufNum;</div>
<div class="line">    <span class="comment">/* Store message in buffer */</span></div>
<div class="line">    stdFiltElem-&gt;sfec  = <a class="code" href="group__DRV__MCAN__MODULE.html#ga46ea81a605e82a03519fba0a5f43eae1">MCAN_STD_FILT_ELEM_BUFFER</a>;</div>
<div class="line">    <span class="comment">/* Below configuration is ignored if message is stored in buffer */</span></div>
<div class="line">    stdFiltElem-&gt;sft   = <a class="code" href="group__DRV__MCAN__MODULE.html#ga178a655db1d0153ae5846cbe082a6f58">MCAN_STD_FILT_TYPE_RANGE</a>;</div>
</div><!-- fragment --><p> MCAN Tx Message Configuration </p><div class="fragment"><div class="line">    <span class="comment">/* Initialize message to transmit */</span></div>
<div class="line">    <a class="code" href="group__DRV__MCAN__MODULE.html#ga88d364ed6a31e9b2550f4d89297483f4">MCAN_initTxBufElement</a>(txMsg);</div>
<div class="line">    <span class="comment">/* Standard message identifier 11 bit, stored into ID[28-18] */</span></div>
<div class="line">    txMsg-&gt;id  = ((APP_MCAN_STD_ID &amp; MCAN_STD_ID_MASK) &lt;&lt; MCAN_STD_ID_SHIFT);</div>
<div class="line">    txMsg-&gt;dlc = <a class="code" href="group__DRV__MCAN__MODULE.html#gac0ad4fa7fe5caf6e075de2f2ce782311">MCAN_DATA_SIZE_64BYTES</a>; <span class="comment">/* Payload size is 64 bytes */</span></div>
<div class="line">    txMsg-&gt;fdf = TRUE; <span class="comment">/* CAN FD Frame Format */</span></div>
<div class="line">    txMsg-&gt;xtd = FALSE; <span class="comment">/* Extended id not configured */</span></div>
<div class="line">    <span class="keywordflow">for</span> (i = 0U; i &lt; <a class="code" href="group__DRV__MCAN__MODULE.html#gaae9ff297ab474d1d5bb2901e53415cbf">MCAN_MAX_PAYLOAD_BYTES</a>; i++)</div>
<div class="line">    {</div>
<div class="line">        txMsg-&gt;data[i] = i;</div>
<div class="line">    }</div>
</div><!-- fragment --><p> MCAN Message Transmit/Receive </p><div class="fragment"><div class="line">    <span class="comment">/* Configure Tx Msg to transmit */</span></div>
<div class="line">    App_mcanConfigTxMsg(&amp;txMsg);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Select buffer number, 32 buffers available */</span></div>
<div class="line">    bufNum = 0U;</div>
<div class="line">    <span class="comment">/* Enable Transmission interrupt for the selected buf num,</span></div>
<div class="line"><span class="comment">     * If FIFO is used, then need to send FIFO start index until FIFO count */</span></div>
<div class="line">    status = <a class="code" href="group__DRV__MCAN__MODULE.html#gabf368836838698660cf233ef8d99b30d">MCAN_txBufTransIntrEnable</a>(gMcanBaseAddr, bufNum, (uint32_t)TRUE);</div>
<div class="line">    <a class="code" href="group__KERNEL__DPL__DEBUG.html#ga552e9055ca7eab5fe6c224c6cd5a9d4c">DebugP_assert</a>(status == CSL_PASS);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Write message to Msg RAM */</span></div>
<div class="line">    <a class="code" href="group__DRV__MCAN__MODULE.html#gae37ac29182dea3a49e228272633e123a">MCAN_writeMsgRam</a>(gMcanBaseAddr, <a class="code" href="group__DRV__MCAN__MODULE.html#ga403b88d0e7331b00221ca4ec3d702166">MCAN_MEM_TYPE_BUF</a>, bufNum, &amp;txMsg);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Add request for transmission, This function will trigger transmission */</span></div>
<div class="line">    status = <a class="code" href="group__DRV__MCAN__MODULE.html#ga0d7adb1bdda7cbec3a4a92363ca17048">MCAN_txBufAddReq</a>(gMcanBaseAddr, bufNum);</div>
<div class="line">    <a class="code" href="group__KERNEL__DPL__DEBUG.html#ga552e9055ca7eab5fe6c224c6cd5a9d4c">DebugP_assert</a>(status == CSL_PASS);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Wait for Tx completion */</span></div>
<div class="line">    <a class="code" href="group__KERNEL__DPL__SEMAPHORE.html#ga8733f9edac3a2d559b97dc0d115c3ba8">SemaphoreP_pend</a>(&amp;gMcanTxDoneSem, <a class="code" href="group__KERNEL__DPL__SYSTEM.html#ga376db5d2fbbc54611736778be8e15431">SystemP_WAIT_FOREVER</a>);</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="group__DRV__MCAN__MODULE.html#gacc2eac3ee3fa5a59298e6480a5fefb25">MCAN_getProtocolStatus</a>(gMcanBaseAddr, &amp;protStatus);</div>
<div class="line">    <span class="comment">/* Checking for Tx Errors */</span></div>
<div class="line">    <span class="keywordflow">if</span> (((<a class="code" href="group__DRV__MCAN__MODULE.html#ga962da9dc65035c2814f8f9cb5566d7d0">MCAN_ERR_CODE_NO_ERROR</a> != protStatus.lastErrCode) ||</div>
<div class="line">         (<a class="code" href="group__DRV__MCAN__MODULE.html#gabe194505307cbfae9561c82255fd4c35">MCAN_ERR_CODE_NO_CHANGE</a> != protStatus.lastErrCode)) &amp;&amp;</div>
<div class="line">        ((<a class="code" href="group__DRV__MCAN__MODULE.html#ga962da9dc65035c2814f8f9cb5566d7d0">MCAN_ERR_CODE_NO_ERROR</a> != protStatus.dlec) ||</div>
<div class="line">         (<a class="code" href="group__DRV__MCAN__MODULE.html#gabe194505307cbfae9561c82255fd4c35">MCAN_ERR_CODE_NO_CHANGE</a> != protStatus.dlec)) &amp;&amp;</div>
<div class="line">        (0U != protStatus.pxe))</div>
<div class="line">    {</div>
<div class="line">         <a class="code" href="group__KERNEL__DPL__DEBUG.html#ga552e9055ca7eab5fe6c224c6cd5a9d4c">DebugP_assert</a>(FALSE);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Wait for Rx completion */</span></div>
<div class="line">    <a class="code" href="group__KERNEL__DPL__SEMAPHORE.html#ga8733f9edac3a2d559b97dc0d115c3ba8">SemaphoreP_pend</a>(&amp;gMcanRxDoneSem, <a class="code" href="group__KERNEL__DPL__SYSTEM.html#ga376db5d2fbbc54611736778be8e15431">SystemP_WAIT_FOREVER</a>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Checking for Rx Errors */</span></div>
<div class="line">    <a class="code" href="group__DRV__MCAN__MODULE.html#gac04588f726e192414d7e964c65680e58">MCAN_getErrCounters</a>(gMcanBaseAddr, &amp;errCounter);</div>
<div class="line">    <a class="code" href="group__KERNEL__DPL__DEBUG.html#ga552e9055ca7eab5fe6c224c6cd5a9d4c">DebugP_assert</a>((0U == errCounter.recErrCnt) &amp;&amp;</div>
<div class="line">                  (0U == errCounter.canErrLogCnt));</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Get the new data staus, indicates buffer num which received message */</span></div>
<div class="line">    <a class="code" href="group__DRV__MCAN__MODULE.html#ga92c8acea1ffc5c0bdc926503b780f2d8">MCAN_getNewDataStatus</a>(gMcanBaseAddr, &amp;newDataStatus);</div>
<div class="line">    <a class="code" href="group__DRV__MCAN__MODULE.html#ga5209c8b871cb2b6a4d8237f467581e1d">MCAN_clearNewDataStatus</a>(gMcanBaseAddr, &amp;newDataStatus);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Select buffer and fifo number, Buffer is used in this app */</span></div>
<div class="line">    bufNum = 0U;</div>
<div class="line">    fifoNum = <a class="code" href="group__DRV__MCAN__MODULE.html#gafc4177091062ae4ec7d2102bee7dcf3a">MCAN_RX_FIFO_NUM_0</a>;</div>
<div class="line"> </div>
<div class="line">    bitPos = (1U &lt;&lt; bufNum);</div>
<div class="line">    <span class="keywordflow">if</span> (bitPos == (newDataStatus.statusLow &amp; bitPos))</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="group__DRV__MCAN__MODULE.html#gab7f5ca9e1bf82489a130afbb64a675cf">MCAN_readMsgRam</a>(gMcanBaseAddr, <a class="code" href="group__DRV__MCAN__MODULE.html#ga403b88d0e7331b00221ca4ec3d702166">MCAN_MEM_TYPE_BUF</a>, bufNum, fifoNum, &amp;rxMsg);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="group__KERNEL__DPL__DEBUG.html#ga552e9055ca7eab5fe6c224c6cd5a9d4c">DebugP_assert</a>(FALSE);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Compare Tx/Rx data */</span></div>
<div class="line">    <span class="keywordflow">if</span> (((txMsg.id &gt;&gt; APP_MCAN_STD_ID_SHIFT) &amp; APP_MCAN_STD_ID_MASK) ==</div>
<div class="line">            ((rxMsg.id &gt;&gt; APP_MCAN_STD_ID_SHIFT) &amp; APP_MCAN_STD_ID_MASK))</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">for</span> (i = 0U; i &lt; <a class="code" href="group__DRV__MCAN__MODULE.html#gaae9ff297ab474d1d5bb2901e53415cbf">MCAN_MAX_PAYLOAD_BYTES</a>; i++)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">if</span> (txMsg.data[i] != rxMsg.data[i])</div>
<div class="line">            {</div>
<div class="line">                <a class="code" href="group__KERNEL__DPL__DEBUG.html#ga8e7ba11b5db9c1a2743435f3c1bf04fe">DebugP_logError</a>(<span class="stringliteral">&quot;Data mismatch !!!\r\n&quot;</span>);</div>
<div class="line">                <a class="code" href="group__KERNEL__DPL__DEBUG.html#ga552e9055ca7eab5fe6c224c6cd5a9d4c">DebugP_assert</a>(FALSE);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="group__KERNEL__DPL__DEBUG.html#ga8e7ba11b5db9c1a2743435f3c1bf04fe">DebugP_logError</a>(<span class="stringliteral">&quot;Message ID mismatch !!!\r\n&quot;</span>);</div>
<div class="line">        <a class="code" href="group__KERNEL__DPL__DEBUG.html#ga552e9055ca7eab5fe6c224c6cd5a9d4c">DebugP_assert</a>(FALSE);</div>
<div class="line">    }</div>
</div><!-- fragment --><p> MCAN Interrupt Service Routine </p><div class="fragment"><div class="line">    intrStatus = <a class="code" href="group__DRV__MCAN__MODULE.html#gabd0b62d9b8f921ccadd722ea40cc6c5a">MCAN_getIntrStatus</a>(gMcanBaseAddr);</div>
<div class="line">    <a class="code" href="group__DRV__MCAN__MODULE.html#gad1a4de6f54132076a132c5b314c3455f">MCAN_clearIntrStatus</a>(gMcanBaseAddr, intrStatus);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group__DRV__MCAN__MODULE.html#ga7b59d1734eb12a0b6a70cc1056e4d188">MCAN_INTR_SRC_TRANS_COMPLETE</a> ==</div>
<div class="line">        (intrStatus &amp; <a class="code" href="group__DRV__MCAN__MODULE.html#ga7b59d1734eb12a0b6a70cc1056e4d188">MCAN_INTR_SRC_TRANS_COMPLETE</a>))</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="group__KERNEL__DPL__SEMAPHORE.html#ga23075425da4d8a65a53209b5fdd3fafe">SemaphoreP_post</a>(&amp;gMcanTxDoneSem);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* If FIFO0/FIFO1 is used, then MCAN_INTR_SRC_DEDICATED_RX_BUFF_MSG macro</span></div>
<div class="line"><span class="comment">     * needs to be replaced by MCAN_INTR_SRC_RX_FIFO0_NEW_MSG/</span></div>
<div class="line"><span class="comment">     * MCAN_INTR_SRC_RX_FIFO1_NEW_MSG respectively */</span></div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group__DRV__MCAN__MODULE.html#gaa5e6b084d9d3883da80f8e2b8c6f86ba">MCAN_INTR_SRC_DEDICATED_RX_BUFF_MSG</a> ==</div>
<div class="line">        (intrStatus &amp; <a class="code" href="group__DRV__MCAN__MODULE.html#gaa5e6b084d9d3883da80f8e2b8c6f86ba">MCAN_INTR_SRC_DEDICATED_RX_BUFF_MSG</a>))</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="group__KERNEL__DPL__SEMAPHORE.html#ga23075425da4d8a65a53209b5fdd3fafe">SemaphoreP_post</a>(&amp;gMcanRxDoneSem);</div>
<div class="line">    }</div>
</div><!-- fragment --><p> MCAN Interrupt De-Registration </p><div class="fragment"><div class="line">    <a class="code" href="group__KERNEL__DPL__HWI.html#ga9dac4d4990b599de54662b9e32c0b47b">HwiP_destruct</a>(&amp;gMcanHwiObject);</div>
</div><!-- fragment --> <h1><a class="anchor" id="autotoc_md523"></a>
API</h1>
<p><a class="el" href="group__DRV__MCAN__MODULE.html">APIs for MCAN</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div class="ttc" id="agroup__DRV__MCAN__MODULE_html_gabe194505307cbfae9561c82255fd4c35"><div class="ttname"><a href="group__DRV__MCAN__MODULE.html#gabe194505307cbfae9561c82255fd4c35">MCAN_ERR_CODE_NO_CHANGE</a></div><div class="ttdeci">#define MCAN_ERR_CODE_NO_CHANGE</div><div class="ttdef"><b>Definition:</b> mcan/v0/mcan.h:605</div></div>
<div class="ttc" id="agroup__DRV__MCAN__MODULE_html_gaa5e6b084d9d3883da80f8e2b8c6f86ba"><div class="ttname"><a href="group__DRV__MCAN__MODULE.html#gaa5e6b084d9d3883da80f8e2b8c6f86ba">MCAN_INTR_SRC_DEDICATED_RX_BUFF_MSG</a></div><div class="ttdeci">#define MCAN_INTR_SRC_DEDICATED_RX_BUFF_MSG</div><div class="ttdef"><b>Definition:</b> mcan/v0/mcan.h:477</div></div>
<div class="ttc" id="agroup__DRV__MCAN__MODULE_html_ga178a655db1d0153ae5846cbe082a6f58"><div class="ttname"><a href="group__DRV__MCAN__MODULE.html#ga178a655db1d0153ae5846cbe082a6f58">MCAN_STD_FILT_TYPE_RANGE</a></div><div class="ttdeci">#define MCAN_STD_FILT_TYPE_RANGE</div><div class="ttdoc">Macros to represent Standard Filter Types.</div><div class="ttdef"><b>Definition:</b> mcan/v0/mcan.h:230</div></div>
<div class="ttc" id="agroup__DRV__MCAN__MODULE_html_ga882f5068fe5e27989e0e21dbb1d757d1"><div class="ttname"><a href="group__DRV__MCAN__MODULE.html#ga882f5068fe5e27989e0e21dbb1d757d1">MCAN_RX_FIFO_OPERATION_MODE_BLOCKING</a></div><div class="ttdeci">#define MCAN_RX_FIFO_OPERATION_MODE_BLOCKING</div><div class="ttdoc">Macros to represent the MCAN RX FIFO mode of operation.</div><div class="ttdef"><b>Definition:</b> mcan/v0/mcan.h:133</div></div>
<div class="ttc" id="agroup__KERNEL__DPL__HWI_html_ga9dac4d4990b599de54662b9e32c0b47b"><div class="ttname"><a href="group__KERNEL__DPL__HWI.html#ga9dac4d4990b599de54662b9e32c0b47b">HwiP_destruct</a></div><div class="ttdeci">void HwiP_destruct(HwiP_Object *obj)</div><div class="ttdoc">Cleanup, delete, destruct a Hwi object.</div></div>
<div class="ttc" id="astructHwiP__Params_html"><div class="ttname"><a href="structHwiP__Params.html">HwiP_Params</a></div><div class="ttdoc">Parameters passed during HwiP_construct.</div><div class="ttdef"><b>Definition:</b> HwiP.h:72</div></div>
<div class="ttc" id="agroup__DRV__MCAN__MODULE_html_ga7b59d1734eb12a0b6a70cc1056e4d188"><div class="ttname"><a href="group__DRV__MCAN__MODULE.html#ga7b59d1734eb12a0b6a70cc1056e4d188">MCAN_INTR_SRC_TRANS_COMPLETE</a></div><div class="ttdeci">#define MCAN_INTR_SRC_TRANS_COMPLETE</div><div class="ttdef"><b>Definition:</b> mcan/v0/mcan.h:457</div></div>
<div class="ttc" id="agroup__DRV__MCAN__MODULE_html_ga80fcef6174f6291fd401d039526b45f9"><div class="ttname"><a href="group__DRV__MCAN__MODULE.html#ga80fcef6174f6291fd401d039526b45f9">MCAN_TX_MEM_TYPE_BUF</a></div><div class="ttdeci">#define MCAN_TX_MEM_TYPE_BUF</div><div class="ttdoc">Macros to represent the MCAN Tx Message RAM type.</div><div class="ttdef"><b>Definition:</b> mcan/v0/mcan.h:147</div></div>
<div class="ttc" id="agroup__KERNEL__DPL__SYSTEM_html_ga376db5d2fbbc54611736778be8e15431"><div class="ttname"><a href="group__KERNEL__DPL__SYSTEM.html#ga376db5d2fbbc54611736778be8e15431">SystemP_WAIT_FOREVER</a></div><div class="ttdeci">#define SystemP_WAIT_FOREVER</div><div class="ttdoc">Value to use when needing a timeout of infinity or wait forver until resource is available.</div><div class="ttdef"><b>Definition:</b> SystemP.h:83</div></div>
<div class="ttc" id="agroup__DRV__MCAN__MODULE_html_gaf02ac3de135966a778b423a803a63b54"><div class="ttname"><a href="group__DRV__MCAN__MODULE.html#gaf02ac3de135966a778b423a803a63b54">MCAN_initMsgRamConfigParams</a></div><div class="ttdeci">void MCAN_initMsgRamConfigParams(MCAN_MsgRAMConfigParams *msgRAMConfigParams)</div><div class="ttdoc">This API will initialize MCAN message config RAM params to default.</div></div>
<div class="ttc" id="agroup__KERNEL__DPL__HWI_html_gacda2e6e40428be67320f57d0676e4bd1"><div class="ttname"><a href="group__KERNEL__DPL__HWI.html#gacda2e6e40428be67320f57d0676e4bd1">HwiP_construct</a></div><div class="ttdeci">int32_t HwiP_construct(HwiP_Object *obj, HwiP_Params *params)</div><div class="ttdoc">Create a Hwi object.</div></div>
<div class="ttc" id="agroup__DRV__MCAN__MODULE_html_ga962da9dc65035c2814f8f9cb5566d7d0"><div class="ttname"><a href="group__DRV__MCAN__MODULE.html#ga962da9dc65035c2814f8f9cb5566d7d0">MCAN_ERR_CODE_NO_ERROR</a></div><div class="ttdeci">#define MCAN_ERR_CODE_NO_ERROR</div><div class="ttdef"><b>Definition:</b> mcan/v0/mcan.h:570</div></div>
<div class="ttc" id="agroup__DRV__MCAN__MODULE_html_ga87168343ce8f630f6a0bc366460d19cb"><div class="ttname"><a href="group__DRV__MCAN__MODULE.html#ga87168343ce8f630f6a0bc366460d19cb">MCAN_calcMsgRamParamsStartAddr</a></div><div class="ttdeci">int32_t MCAN_calcMsgRamParamsStartAddr(MCAN_MsgRAMConfigParams *msgRAMConfigParams)</div><div class="ttdoc">This API will calculate start addresses of message RAM params.</div></div>
<div class="ttc" id="agroup__DRV__MCAN__MODULE_html_ga403b88d0e7331b00221ca4ec3d702166"><div class="ttname"><a href="group__DRV__MCAN__MODULE.html#ga403b88d0e7331b00221ca4ec3d702166">MCAN_MEM_TYPE_BUF</a></div><div class="ttdeci">#define MCAN_MEM_TYPE_BUF</div><div class="ttdef"><b>Definition:</b> mcan/v0/mcan.h:343</div></div>
<div class="ttc" id="agroup__DRV__MCAN__MODULE_html_gac04588f726e192414d7e964c65680e58"><div class="ttname"><a href="group__DRV__MCAN__MODULE.html#gac04588f726e192414d7e964c65680e58">MCAN_getErrCounters</a></div><div class="ttdeci">void MCAN_getErrCounters(uint32_t baseAddr, MCAN_ErrCntStatus *errCounter)</div><div class="ttdoc">This API will return error counter status for MCAN module.</div></div>
<div class="ttc" id="agroup__DRV__MCAN__MODULE_html_gac0ad4fa7fe5caf6e075de2f2ce782311"><div class="ttname"><a href="group__DRV__MCAN__MODULE.html#gac0ad4fa7fe5caf6e075de2f2ce782311">MCAN_DATA_SIZE_64BYTES</a></div><div class="ttdeci">#define MCAN_DATA_SIZE_64BYTES</div><div class="ttdef"><b>Definition:</b> mcan/v0/mcan.h:191</div></div>
<div class="ttc" id="agroup__KERNEL__DPL__HWI_html_ga33f02161b1837b41f08ba064f1001045"><div class="ttname"><a href="group__KERNEL__DPL__HWI.html#ga33f02161b1837b41f08ba064f1001045">HwiP_Params_init</a></div><div class="ttdeci">void HwiP_Params_init(HwiP_Params *params)</div><div class="ttdoc">Set default values to HwiP_Params.</div></div>
<div class="ttc" id="agroup__DRV__MCAN__MODULE_html_ga5209c8b871cb2b6a4d8237f467581e1d"><div class="ttname"><a href="group__DRV__MCAN__MODULE.html#ga5209c8b871cb2b6a4d8237f467581e1d">MCAN_clearNewDataStatus</a></div><div class="ttdeci">void MCAN_clearNewDataStatus(uint32_t baseAddr, const MCAN_RxNewDataStatus *newDataStatus)</div><div class="ttdoc">This API clear New Data Message Status.</div></div>
<div class="ttc" id="agroup__DRV__MCAN__MODULE_html_gad1a4de6f54132076a132c5b314c3455f"><div class="ttname"><a href="group__DRV__MCAN__MODULE.html#gad1a4de6f54132076a132c5b314c3455f">MCAN_clearIntrStatus</a></div><div class="ttdeci">void MCAN_clearIntrStatus(uint32_t baseAddr, uint32_t intrMask)</div><div class="ttdoc">This API is used to clear the interrupt status.</div></div>
<div class="ttc" id="agroup__DRV__MCAN__MODULE_html_gae37ac29182dea3a49e228272633e123a"><div class="ttname"><a href="group__DRV__MCAN__MODULE.html#gae37ac29182dea3a49e228272633e123a">MCAN_writeMsgRam</a></div><div class="ttdeci">void MCAN_writeMsgRam(uint32_t baseAddr, uint32_t memType, uint32_t bufNum, const MCAN_TxBufElement *elem)</div><div class="ttdoc">This API is used to write Tx message to message RAM.</div></div>
<div class="ttc" id="agroup__KERNEL__DPL__DEBUG_html_ga8e7ba11b5db9c1a2743435f3c1bf04fe"><div class="ttname"><a href="group__KERNEL__DPL__DEBUG.html#ga8e7ba11b5db9c1a2743435f3c1bf04fe">DebugP_logError</a></div><div class="ttdeci">#define DebugP_logError(format,...)</div><div class="ttdoc">Function to log a string to the enabled console, for error zone.</div><div class="ttdef"><b>Definition:</b> DebugP.h:223</div></div>
<div class="ttc" id="agroup__KERNEL__DPL__SYSTEM_html_ga47e638d7c694e6d42e57b96b071b8a6f"><div class="ttname"><a href="group__KERNEL__DPL__SYSTEM.html#ga47e638d7c694e6d42e57b96b071b8a6f">SystemP_SUCCESS</a></div><div class="ttdeci">#define SystemP_SUCCESS</div><div class="ttdoc">Return status when the API execution was successful.</div><div class="ttdef"><b>Definition:</b> SystemP.h:56</div></div>
<div class="ttc" id="agroup__DRV__MCAN__MODULE_html_ga92c8acea1ffc5c0bdc926503b780f2d8"><div class="ttname"><a href="group__DRV__MCAN__MODULE.html#ga92c8acea1ffc5c0bdc926503b780f2d8">MCAN_getNewDataStatus</a></div><div class="ttdeci">void MCAN_getNewDataStatus(uint32_t baseAddr, MCAN_RxNewDataStatus *newDataStatus)</div><div class="ttdoc">This API will return New Data Message Status.</div></div>
<div class="ttc" id="agroup__DRV__MCAN__MODULE_html_gab7f5ca9e1bf82489a130afbb64a675cf"><div class="ttname"><a href="group__DRV__MCAN__MODULE.html#gab7f5ca9e1bf82489a130afbb64a675cf">MCAN_readMsgRam</a></div><div class="ttdeci">void MCAN_readMsgRam(uint32_t baseAddr, uint32_t memType, uint32_t bufNum, uint32_t fifoNum, MCAN_RxBufElement *elem)</div><div class="ttdoc">This API is used to read received message form message RAM.</div></div>
<div class="ttc" id="agroup__DRV__MCAN__MODULE_html_gacc2eac3ee3fa5a59298e6480a5fefb25"><div class="ttname"><a href="group__DRV__MCAN__MODULE.html#gacc2eac3ee3fa5a59298e6480a5fefb25">MCAN_getProtocolStatus</a></div><div class="ttdeci">void MCAN_getProtocolStatus(uint32_t baseAddr, MCAN_ProtocolStatus *protStatus)</div><div class="ttdoc">This API will return protocol status for MCAN module.</div></div>
<div class="ttc" id="agroup__DRV__MCAN__MODULE_html_gaae9ff297ab474d1d5bb2901e53415cbf"><div class="ttname"><a href="group__DRV__MCAN__MODULE.html#gaae9ff297ab474d1d5bb2901e53415cbf">MCAN_MAX_PAYLOAD_BYTES</a></div><div class="ttdeci">#define MCAN_MAX_PAYLOAD_BYTES</div><div class="ttdoc">Maximum payload supported by CAN-FD protocol in bytes.</div><div class="ttdef"><b>Definition:</b> mcan/v0/mcan.h:106</div></div>
<div class="ttc" id="astructHwiP__Params_html_ab8f50b1b2f678cc3ce395ee6bc89c55c"><div class="ttname"><a href="structHwiP__Params.html#ab8f50b1b2f678cc3ce395ee6bc89c55c">HwiP_Params::callback</a></div><div class="ttdeci">HwiP_FxnCallback callback</div><div class="ttdef"><b>Definition:</b> HwiP.h:75</div></div>
<div class="ttc" id="agroup__KERNEL__DPL__SEMAPHORE_html_ga23075425da4d8a65a53209b5fdd3fafe"><div class="ttname"><a href="group__KERNEL__DPL__SEMAPHORE.html#ga23075425da4d8a65a53209b5fdd3fafe">SemaphoreP_post</a></div><div class="ttdeci">void SemaphoreP_post(SemaphoreP_Object *obj)</div><div class="ttdoc">Post a semaphore object or unlock a mutex.</div></div>
<div class="ttc" id="agroup__DRV__MCAN__MODULE_html_gabd0b62d9b8f921ccadd722ea40cc6c5a"><div class="ttname"><a href="group__DRV__MCAN__MODULE.html#gabd0b62d9b8f921ccadd722ea40cc6c5a">MCAN_getIntrStatus</a></div><div class="ttdeci">uint32_t MCAN_getIntrStatus(uint32_t baseAddr)</div><div class="ttdoc">This API will return interrupt status.</div></div>
<div class="ttc" id="agroup__KERNEL__DPL__DEBUG_html_ga552e9055ca7eab5fe6c224c6cd5a9d4c"><div class="ttname"><a href="group__KERNEL__DPL__DEBUG.html#ga552e9055ca7eab5fe6c224c6cd5a9d4c">DebugP_assert</a></div><div class="ttdeci">#define DebugP_assert(expression)</div><div class="ttdoc">Function to call for assert check.</div><div class="ttdef"><b>Definition:</b> DebugP.h:159</div></div>
<div class="ttc" id="astructHwiP__Params_html_a943b3d55a5aaa669f8bcb04017fdf2a1"><div class="ttname"><a href="structHwiP__Params.html#a943b3d55a5aaa669f8bcb04017fdf2a1">HwiP_Params::intNum</a></div><div class="ttdeci">uint32_t intNum</div><div class="ttdef"><b>Definition:</b> HwiP.h:74</div></div>
<div class="ttc" id="amcan_8h_html"><div class="ttname"><a href="mcan_8h.html">mcan.h</a></div></div>
<div class="ttc" id="agroup__DRV__MCAN__MODULE_html_ga46ea81a605e82a03519fba0a5f43eae1"><div class="ttname"><a href="group__DRV__MCAN__MODULE.html#ga46ea81a605e82a03519fba0a5f43eae1">MCAN_STD_FILT_ELEM_BUFFER</a></div><div class="ttdeci">#define MCAN_STD_FILT_ELEM_BUFFER</div><div class="ttdef"><b>Definition:</b> mcan/v0/mcan.h:217</div></div>
<div class="ttc" id="agroup__DRV__MCAN__MODULE_html_gafc4177091062ae4ec7d2102bee7dcf3a"><div class="ttname"><a href="group__DRV__MCAN__MODULE.html#gafc4177091062ae4ec7d2102bee7dcf3a">MCAN_RX_FIFO_NUM_0</a></div><div class="ttdeci">#define MCAN_RX_FIFO_NUM_0</div><div class="ttdef"><b>Definition:</b> mcan/v0/mcan.h:359</div></div>
<div class="ttc" id="agroup__DRV__MCAN__MODULE_html_ga0d7adb1bdda7cbec3a4a92363ca17048"><div class="ttname"><a href="group__DRV__MCAN__MODULE.html#ga0d7adb1bdda7cbec3a4a92363ca17048">MCAN_txBufAddReq</a></div><div class="ttdeci">int32_t MCAN_txBufAddReq(uint32_t baseAddr, uint32_t bufNum)</div><div class="ttdoc">This API will set Tx Buffer Add Request.</div></div>
<div class="ttc" id="agroup__DRV__MCAN__MODULE_html_gabf368836838698660cf233ef8d99b30d"><div class="ttname"><a href="group__DRV__MCAN__MODULE.html#gabf368836838698660cf233ef8d99b30d">MCAN_txBufTransIntrEnable</a></div><div class="ttdeci">int32_t MCAN_txBufTransIntrEnable(uint32_t baseAddr, uint32_t bufNum, uint32_t enable)</div><div class="ttdoc">This API is used to enable/disable Tx Buffer Transmission Interrupt.</div></div>
<div class="ttc" id="agroup__KERNEL__DPL__SEMAPHORE_html_ga8733f9edac3a2d559b97dc0d115c3ba8"><div class="ttname"><a href="group__KERNEL__DPL__SEMAPHORE.html#ga8733f9edac3a2d559b97dc0d115c3ba8">SemaphoreP_pend</a></div><div class="ttdeci">int32_t SemaphoreP_pend(SemaphoreP_Object *obj, uint32_t timeToWaitInTicks)</div><div class="ttdoc">Pend on a semaphore object or lock a mutex.</div></div>
<div class="ttc" id="agroup__DRV__MCAN__MODULE_html_ga88d364ed6a31e9b2550f4d89297483f4"><div class="ttname"><a href="group__DRV__MCAN__MODULE.html#ga88d364ed6a31e9b2550f4d89297483f4">MCAN_initTxBufElement</a></div><div class="ttdeci">void MCAN_initTxBufElement(MCAN_TxBufElement *txMsg)</div><div class="ttdoc">This API will initialize TX message object with default values.</div></div>
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
