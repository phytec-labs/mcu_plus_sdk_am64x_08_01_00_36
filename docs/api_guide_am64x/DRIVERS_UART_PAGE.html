<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" href="favicon.png" type="image/png">    
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<title>AM64x MCU+ SDK: UART</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<style>
.tinav {
    background: #c00;
    /* height: 41.375px; */
    height: 30px;
    }
</style>    
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 40px;">
  <td id="projectlogo"><a href="https://www.ti.com"><img alt="Logo" src="ti_logo.svg"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AM64x MCU+ SDK
   &#160;<span id="projectnumber">08.01.00</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
<div class=tinav></div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('DRIVERS_UART_PAGE.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">UART </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md582">Features Supported</a></li>
<li class="level1"><a href="#autotoc_md583">SysConfig Features</a></li>
<li class="level1"><a href="#autotoc_md584">Features NOT Supported</a></li>
<li class="level1"><a href="#autotoc_md585">Usage Overview</a><ul><li class="level2"><a href="#autotoc_md586">API Sequence</a></li>
<li class="level2"><a href="#autotoc_md587">Initializing the UART Driver</a></li>
<li class="level2"><a href="#autotoc_md588">Opening the UART Driver</a></li>
<li class="level2"><a href="#autotoc_md589">UART Write Mode</a></li>
<li class="level2"><a href="#autotoc_md590">UART Read Mode</a></li>
</ul>
</li>
<li class="level1"><a href="#autotoc_md591">Important Usage Guidelines</a></li>
<li class="level1"><a href="#autotoc_md592">Example Usage</a></li>
<li class="level1"><a href="#autotoc_md593">API</a></li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="md_components_drivers_uart"></a></p>
<p>UART is used to translate the data between the chip and a serial port. The UART driver provides API to perform read and write to any of the UART peripherals on the board, with the multiple modes of operation.</p>
<h1><a class="anchor" id="autotoc_md582"></a>
Features Supported</h1>
<ul>
<li>UART 16x mode (&lt;= 115.2 Kbaud/s)</li>
<li>Write and Read mode of operation</li>
<li>Interrupt, Polled Mode</li>
<li>Blocking and Non-blocking (callback) transfers</li>
<li>Write and Read Cancel mode of operation</li>
<li>For low latency direct register read/write API, refer <a class="el" href="EXAMPLES_DRIVERS_UART_ECHO_LOW_LATENCY_INTERRUPT.html">UART Echo Low Latency Interrupt</a> and <a class="el" href="EXAMPLES_DRIVERS_UART_ECHO_LOW_LATENCY_POLLING.html">UART Echo Low Latency Polling</a> example.</li>
</ul>
<h1><a class="anchor" id="autotoc_md583"></a>
SysConfig Features</h1>
<dl class="section note"><dt>Note</dt><dd>It is strongly recommend to use SysConfig where it is available instead of using direct SW API calls. This will help simplify the SW application and also catch common mistakes early in the development cycle.</dd></dl>
<p>SysConfig can be used to configure below parameters apart from common configuration like Clock,MPU,RAT and others.</p><ul>
<li>UART module configuration parmaters like baudrate, parity type, datalength and others.</li>
<li>UART instances and pin configurations.</li>
<li>Interrupt mode option is used to select one of the following.<ul>
<li>Polling Mode.</li>
<li>Interrupt Mode in which driver manages the interrupt service routine.</li>
<li>User Managed Interrupt in which user manages the interrupt service routine. This mode can be used in low latency applications.</li>
</ul>
</li>
<li>Based on above parameters, the SysConfig generated code does below as part of Drivers_open and Drivers_close functions<ul>
<li>Set UART instance parameter configuration.</li>
<li>Driver ISR registration if Interrupt Mode is enabled.</li>
<li>Skip driver ISR registration if "User Managed Interrupt" mode is configured.</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md584"></a>
Features NOT Supported</h1>
<ul>
<li>DMA mode of operation</li>
<li>MODEM control functions</li>
<li>IrDA(Infrared Data Association) and CIR(Consumer Infrared) features</li>
</ul>
<h1><a class="anchor" id="autotoc_md585"></a>
Usage Overview</h1>
<h2><a class="anchor" id="autotoc_md586"></a>
API Sequence</h2>
<p>To use the UART driver to send data or receive, the application calls the following APIs:</p>
<ul>
<li><a class="el" href="group__DRV__UART__MODULE.html#gab60a36f7295d704926120d22f806dcd1" title="This function initializes the UART module.">UART_init()</a> : Initialize the UART driver.</li>
<li><a class="el" href="group__DRV__UART__MODULE.html#ga811065c407cbf7b7553140a6d91887fc" title="Function to initialize the UART_Params struct to its defaults.">UART_Params_init()</a>: Initialize a <a class="el" href="structUART__Params.html" title="UART Parameters.">UART_Params</a> structure with default values. Then change the parameters from non-default values as needed.</li>
<li><a class="el" href="group__DRV__UART__MODULE.html#gab540e9ef2a649eeff29085cfa653d097" title="This function opens a given UART peripheral.">UART_open()</a> : Open an instance of the UART driver, passing the initialized parameters, or NULL, and an index to the configuration to open (detailed later).</li>
<li><a class="el" href="group__DRV__UART__MODULE.html#ga10c9465c727e535023d9097b8b842bf9" title="Function to perform UART write operation.">UART_write()</a>: Transmit data. This function takes a <a class="el" href="structUART__Transaction.html" title="Data structure used with UART_read() and UART_write()">UART_Transaction</a> argument that describes the transfer that is requested.</li>
<li><a class="el" href="group__DRV__UART__MODULE.html#gab0f66688faa39bad28c36465ac88c538" title="Function to perform UART read operation.">UART_read()</a> : Receive data. This function takes a <a class="el" href="structUART__Transaction.html" title="Data structure used with UART_read() and UART_write()">UART_Transaction</a> argument that describes the receive that is requested.</li>
<li><a class="el" href="group__DRV__UART__MODULE.html#ga6b49b65f3db709c408dc4db23a68895d" title="Function to close a UART peripheral specified by the UART handle.">UART_close()</a>: De-initialize the UART instance.</li>
<li><a class="el" href="group__DRV__UART__MODULE.html#gaf62535cad4a810b92a9061eb66b510e3" title="This function de-initializes the UART module.">UART_deinit()</a>: De-Initialize the UART driver.</li>
</ul>
<h2><a class="anchor" id="autotoc_md587"></a>
Initializing the UART Driver</h2>
<p><a class="el" href="group__DRV__UART__MODULE.html#gab60a36f7295d704926120d22f806dcd1" title="This function initializes the UART module.">UART_init()</a> must be called before any other UART APIs. This function iterates through the elements of the UART_config[] array, calling the element's device implementation UART initialization function. Please note that initializing UART driver is taken care by the SysConfig generated code.</p>
<h2><a class="anchor" id="autotoc_md588"></a>
Opening the UART Driver</h2>
<p>After initializing the UART driver by calling <a class="el" href="group__DRV__UART__MODULE.html#gab60a36f7295d704926120d22f806dcd1" title="This function initializes the UART module.">UART_init()</a>, the application can open a UART instance by calling <a class="el" href="group__DRV__UART__MODULE.html#gab540e9ef2a649eeff29085cfa653d097" title="This function opens a given UART peripheral.">UART_open()</a>. Please note that opening UART driver is taken care by the SysConfig generated code. This function takes an index into the UART_config[] array, and the UART parameters data structure. The UART instance is specified by the index of the UART in UART_config[]. Calling <a class="el" href="group__DRV__UART__MODULE.html#gab540e9ef2a649eeff29085cfa653d097" title="This function opens a given UART peripheral.">UART_open()</a> second time with the same index previously passed to <a class="el" href="group__DRV__UART__MODULE.html#gab540e9ef2a649eeff29085cfa653d097" title="This function opens a given UART peripheral.">UART_open()</a> will result in an error. You can, though, re-use the index if the instance is closed via <a class="el" href="group__DRV__UART__MODULE.html#ga6b49b65f3db709c408dc4db23a68895d" title="Function to close a UART peripheral specified by the UART handle.">UART_close()</a>.</p>
<p>If no <a class="el" href="group__DRV__UART__MODULE.html#ga811065c407cbf7b7553140a6d91887fc" title="Function to initialize the UART_Params struct to its defaults.">UART_Params_init</a> structure is passed to <a class="el" href="group__DRV__UART__MODULE.html#gab540e9ef2a649eeff29085cfa653d097" title="This function opens a given UART peripheral.">UART_open()</a>, default values are used. If the open call is successful, it returns a non-NULL value.</p>
<h2><a class="anchor" id="autotoc_md589"></a>
UART Write Mode</h2>
<p>The UART driver supports two transfer modes of operation: interrupt and polling mode. In polling mode a task's code execution is blocked until a UART transaction has completed or a timeout has occurred.</p>
<p>In interrupt mode, again there are two modes blocking and callback. The transfer mode is determined by the <a class="el" href="structUART__Params.html#a97ea411b44f489cd71e8d6d17545abf3">UART_Params.writeMode</a> parameter. The UART driver defaults to blocking mode, if the application does not set it. Once a UART driver is opened, the only way to change the operation mode is to close and re-open the UART instance with the new write mode.</p>
<p>In blocking mode, a task's code execution is blocked until a UART transaction has completed or a timeout has occurred. This ensures that only one UART transfer operates at a given time. Other tasks requesting UART transfers while a transfer is currently taking place will receive an error as return value. If a timeout occurs the transfer is cancelled, the task is unblocked &amp; will receive an error as return value. The transaction count field will have the number of bytes transferred successfully before the timeout.</p>
<p>In callback mode, a UART transaction functions asynchronously, which means that it does not block code execution. After a UART transaction has been completed, the UART driver calls a user-provided callback function. Callback mode is supported in the execution context of tasks and hardware interrupt routines.</p>
<h2><a class="anchor" id="autotoc_md590"></a>
UART Read Mode</h2>
<p>The UART driver supports two read modes of operation: interrupt and polling mode. In polling mode a task's code execution is blocked until a UART transaction has completed or a timeout has occurred.</p>
<p>In interrupt mode, again there are two modes blocking and callback. The read mode is determined by the <a class="el" href="structUART__Params.html#af54dd52a99d0a545eb9d94afeb282ebe">UART_Params.readMode</a> parameter. The UART driver defaults to blocking mode, if the application does not set it. Once a UART driver is opened, the only way to change the operation mode is to close and re-open the UART instance with the new read mode.</p>
<p>In blocking mode, a task's code execution is blocked until a UART transaction has completed or a timeout has occurred. This ensures that only one UART read completes at a given time. Other tasks requesting UART read while a read is currently taking place will receive an error as return value. If a timeout occurs the read is cancelled, the task is unblocked &amp; will receive an error as return value. The transaction count field will have the number of bytes read successfully before the timeout.</p>
<p>In callback mode, a UART transaction functions asynchronously, which means that it does not block code execution. After a UART transaction has been completed, the UART driver calls a user-provided callback function. Callback mode is supported in the execution context of tasks and hardware interrupt routines.</p>
<p>There is an additional <a class="el" href="structUART__Params.html#a1850d733c08f9bd92a45c8289d88a830">UART_Params.readReturnMode</a> parameter. <a class="el" href="group__DRV__UART__MODULE.html#ga1750bdbfd3930cacf9ca48e5a153f3c2" title="Unblock/callback when buffer is full.">UART_READ_RETURN_MODE_FULL</a> unblocks or performs a callback when the read buffer has been filled with the number of bytes passed to <a class="el" href="group__DRV__UART__MODULE.html#gab0f66688faa39bad28c36465ac88c538" title="Function to perform UART read operation.">UART_read()</a>. <a class="el" href="group__DRV__UART__MODULE.html#ga1b64d34e7816aec0224528707619fef8" title="Unblock/callback when no new data comes in.">UART_READ_RETURN_MODE_PARTIAL</a> unblocks or performs a callback whenever a read timeout error occurs on the UART peripheral. The read timeout occurs if the read FIFO is non-empty and no new data has been received for a specific number of clock cycles w.r.o device/baudrate dependent. This mode can be used when the exact number of bytes to be read is not known.</p>
<h1><a class="anchor" id="autotoc_md591"></a>
Important Usage Guidelines</h1>
<ul>
<li>None</li>
</ul>
<h1><a class="anchor" id="autotoc_md592"></a>
Example Usage</h1>
<p>Include the below file to access the APIs </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="uart_8h.html">drivers/uart.h</a>&gt;</span></div>
</div><!-- fragment --><p> Instance Open Example </p><div class="fragment"><div class="line">    <a class="code" href="structUART__Params.html">UART_Params</a>         params;</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="group__DRV__UART__MODULE.html#ga811065c407cbf7b7553140a6d91887fc">UART_Params_init</a>(&amp;params);      <span class="comment">/* Initialize parameters */</span></div>
<div class="line">    params.<a class="code" href="structUART__Params.html#afadb98d0a0ef6e17240bab79306e7828">baudRate</a> = 115200;</div>
<div class="line">    gUartHandle = <a class="code" href="group__DRV__UART__MODULE.html#gab540e9ef2a649eeff29085cfa653d097">UART_open</a>(CONFIG_UART0, &amp;params);</div>
<div class="line">    <a class="code" href="group__KERNEL__DPL__DEBUG.html#ga552e9055ca7eab5fe6c224c6cd5a9d4c">DebugP_assert</a>(gUartHandle != NULL);</div>
</div><!-- fragment --><p> Instance Close Example </p><div class="fragment"><div class="line">    <a class="code" href="group__DRV__UART__MODULE.html#ga6b49b65f3db709c408dc4db23a68895d">UART_close</a>(gUartHandle);</div>
</div><!-- fragment --><p> Write Transfer Example </p><div class="fragment"><div class="line">    int32_t             transferOK;</div>
<div class="line">    <a class="code" href="structUART__Transaction.html">UART_Transaction</a>    transaction;</div>
<div class="line">    uint8_t             txBuffer[APP_UART_MSGSIZE];</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="group__DRV__UART__MODULE.html#ga07908a73787a9ef3e8356c51524b8c44">UART_Transaction_init</a>(&amp;transaction);</div>
<div class="line"> </div>
<div class="line"> <span class="comment">/* Initiate write */</span></div>
<div class="line">    transaction.<a class="code" href="structUART__Transaction.html#a32842a6d05bd3dc31d31a8502da5e190">count</a>   = APP_UART_MSGSIZE;</div>
<div class="line">    transaction.<a class="code" href="structUART__Transaction.html#a6c4f6bad66a3b2e1ff61e26c7e958686">buf</a>     = (<span class="keywordtype">void</span> *)txBuffer;</div>
<div class="line">    transaction.<a class="code" href="structUART__Transaction.html#a7b69de4428b23b65786efaa8179d412a">args</a>    = NULL;</div>
<div class="line">    transferOK = <a class="code" href="group__DRV__UART__MODULE.html#ga10c9465c727e535023d9097b8b842bf9">UART_write</a>(gUartHandle, &amp;transaction);</div>
<div class="line">    <span class="keywordflow">if</span>((<a class="code" href="group__KERNEL__DPL__SYSTEM.html#ga47e638d7c694e6d42e57b96b071b8a6f">SystemP_SUCCESS</a> != transferOK) ||</div>
<div class="line">       (<a class="code" href="group__DRV__UART__MODULE.html#gae17e233f9fa3c0076f5d252a6c4cc5da">UART_TRANSFER_STATUS_SUCCESS</a> != transaction.<a class="code" href="structUART__Transaction.html#a854382b26b213a25665e4176a35b18a5">status</a>))</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">/* UART transfer failed!! */</span></div>
<div class="line">        <a class="code" href="group__KERNEL__DPL__DEBUG.html#ga552e9055ca7eab5fe6c224c6cd5a9d4c">DebugP_assert</a>(FALSE);</div>
<div class="line">    }</div>
</div><!-- fragment --><p> Read Transfer Example </p><div class="fragment"><div class="line">    int32_t             transferOK;</div>
<div class="line">    <a class="code" href="structUART__Transaction.html">UART_Transaction</a>    transaction;</div>
<div class="line">    uint8_t             rxBuffer[APP_UART_MSGSIZE];</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="group__DRV__UART__MODULE.html#ga07908a73787a9ef3e8356c51524b8c44">UART_Transaction_init</a>(&amp;transaction);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Initiate read */</span></div>
<div class="line">    transaction.<a class="code" href="structUART__Transaction.html#a32842a6d05bd3dc31d31a8502da5e190">count</a>   = APP_UART_MSGSIZE;</div>
<div class="line">    transaction.<a class="code" href="structUART__Transaction.html#a6c4f6bad66a3b2e1ff61e26c7e958686">buf</a>     = (<span class="keywordtype">void</span> *)rxBuffer;</div>
<div class="line">    transaction.<a class="code" href="structUART__Transaction.html#a7b69de4428b23b65786efaa8179d412a">args</a>    = NULL;</div>
<div class="line">    transferOK = <a class="code" href="group__DRV__UART__MODULE.html#gab0f66688faa39bad28c36465ac88c538">UART_read</a>(gUartHandle, &amp;transaction);</div>
<div class="line">    <span class="keywordflow">if</span>((<a class="code" href="group__KERNEL__DPL__SYSTEM.html#ga47e638d7c694e6d42e57b96b071b8a6f">SystemP_SUCCESS</a> != transferOK) ||</div>
<div class="line">       (<a class="code" href="group__DRV__UART__MODULE.html#gae17e233f9fa3c0076f5d252a6c4cc5da">UART_TRANSFER_STATUS_SUCCESS</a> != transaction.<a class="code" href="structUART__Transaction.html#a854382b26b213a25665e4176a35b18a5">status</a>))</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">/* UART transfer failed!! */</span></div>
<div class="line">        <a class="code" href="group__KERNEL__DPL__DEBUG.html#ga552e9055ca7eab5fe6c224c6cd5a9d4c">DebugP_assert</a>(FALSE);</div>
<div class="line">    }</div>
</div><!-- fragment --><p> Write Non-Blocking Transfer Example </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> write_callback(<a class="code" href="group__DRV__UART__MODULE.html#ga1daace75c81c26cd9ec7be4ac73525f1">UART_Handle</a> handle, <a class="code" href="structUART__Transaction.html">UART_Transaction</a> *trans)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="group__KERNEL__DPL__DEBUG.html#ga7824b4e99fe103a171fbc355a1c01c67">DebugP_assertNoLog</a>(<a class="code" href="group__DRV__UART__MODULE.html#gae17e233f9fa3c0076f5d252a6c4cc5da">UART_TRANSFER_STATUS_SUCCESS</a> == trans-&gt;<a class="code" href="structUART__Transaction.html#a854382b26b213a25665e4176a35b18a5">status</a>);</div>
<div class="line">    gNumBytesWritten = trans-&gt;<a class="code" href="structUART__Transaction.html#a32842a6d05bd3dc31d31a8502da5e190">count</a>;</div>
<div class="line">    <a class="code" href="group__KERNEL__DPL__SEMAPHORE.html#ga23075425da4d8a65a53209b5fdd3fafe">SemaphoreP_post</a>(&amp;gUartWriteDoneSem);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> write_transfer_nonblocking(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    int32_t             transferOK;</div>
<div class="line">    <a class="code" href="structUART__Transaction.html">UART_Transaction</a>    transaction;</div>
<div class="line">    uint8_t             txBuffer[APP_UART_MSGSIZE];</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="group__DRV__UART__MODULE.html#ga07908a73787a9ef3e8356c51524b8c44">UART_Transaction_init</a>(&amp;transaction);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Initiate write */</span></div>
<div class="line">    transaction.<a class="code" href="structUART__Transaction.html#a32842a6d05bd3dc31d31a8502da5e190">count</a>   = APP_UART_MSGSIZE;</div>
<div class="line">    transaction.<a class="code" href="structUART__Transaction.html#a6c4f6bad66a3b2e1ff61e26c7e958686">buf</a>     = (<span class="keywordtype">void</span> *)txBuffer;</div>
<div class="line">    transaction.<a class="code" href="structUART__Transaction.html#a7b69de4428b23b65786efaa8179d412a">args</a>    = NULL;</div>
<div class="line">    transferOK = <a class="code" href="group__DRV__UART__MODULE.html#ga10c9465c727e535023d9097b8b842bf9">UART_write</a>(gUartHandle, &amp;transaction);</div>
<div class="line">    <span class="keywordflow">if</span>((<a class="code" href="group__KERNEL__DPL__SYSTEM.html#ga47e638d7c694e6d42e57b96b071b8a6f">SystemP_SUCCESS</a> != transferOK) ||</div>
<div class="line">       (<a class="code" href="group__DRV__UART__MODULE.html#gae17e233f9fa3c0076f5d252a6c4cc5da">UART_TRANSFER_STATUS_SUCCESS</a> != transaction.<a class="code" href="structUART__Transaction.html#a854382b26b213a25665e4176a35b18a5">status</a>))</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">/* UART transfer failed!! */</span></div>
<div class="line">        <a class="code" href="group__KERNEL__DPL__DEBUG.html#ga552e9055ca7eab5fe6c224c6cd5a9d4c">DebugP_assert</a>(FALSE);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">/* Wait for callback */</span></div>
<div class="line">        <a class="code" href="group__KERNEL__DPL__SEMAPHORE.html#ga8733f9edac3a2d559b97dc0d115c3ba8">SemaphoreP_pend</a>(&amp;gUartWriteDoneSem, <a class="code" href="group__KERNEL__DPL__SYSTEM.html#ga376db5d2fbbc54611736778be8e15431">SystemP_WAIT_FOREVER</a>);</div>
<div class="line">        <a class="code" href="group__KERNEL__DPL__DEBUG.html#ga552e9055ca7eab5fe6c224c6cd5a9d4c">DebugP_assert</a>(gNumBytesWritten == transaction.<a class="code" href="structUART__Transaction.html#a32842a6d05bd3dc31d31a8502da5e190">count</a>);</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><p> Read Non-Blocking Transfer Example </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> read_callback(<a class="code" href="group__DRV__UART__MODULE.html#ga1daace75c81c26cd9ec7be4ac73525f1">UART_Handle</a> handle, <a class="code" href="structUART__Transaction.html">UART_Transaction</a> *trans)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="group__KERNEL__DPL__DEBUG.html#ga7824b4e99fe103a171fbc355a1c01c67">DebugP_assertNoLog</a>(<a class="code" href="group__DRV__UART__MODULE.html#gae17e233f9fa3c0076f5d252a6c4cc5da">UART_TRANSFER_STATUS_SUCCESS</a> == trans-&gt;<a class="code" href="structUART__Transaction.html#a854382b26b213a25665e4176a35b18a5">status</a>);</div>
<div class="line">    gNumBytesRead = trans-&gt;<a class="code" href="structUART__Transaction.html#a32842a6d05bd3dc31d31a8502da5e190">count</a>;</div>
<div class="line">    <a class="code" href="group__KERNEL__DPL__SEMAPHORE.html#ga23075425da4d8a65a53209b5fdd3fafe">SemaphoreP_post</a>(&amp;gUartReadDoneSem);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> read_transfer_nonblocking(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    int32_t             transferOK;</div>
<div class="line">    <a class="code" href="structUART__Transaction.html">UART_Transaction</a>    transaction;</div>
<div class="line">    uint8_t             rxBuffer[APP_UART_MSGSIZE];</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="group__DRV__UART__MODULE.html#ga07908a73787a9ef3e8356c51524b8c44">UART_Transaction_init</a>(&amp;transaction);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Initiate read */</span></div>
<div class="line">    transaction.<a class="code" href="structUART__Transaction.html#a32842a6d05bd3dc31d31a8502da5e190">count</a>   = APP_UART_MSGSIZE;</div>
<div class="line">    transaction.<a class="code" href="structUART__Transaction.html#a6c4f6bad66a3b2e1ff61e26c7e958686">buf</a>     = (<span class="keywordtype">void</span> *)rxBuffer;</div>
<div class="line">    transaction.<a class="code" href="structUART__Transaction.html#a7b69de4428b23b65786efaa8179d412a">args</a>    = NULL;</div>
<div class="line">    transferOK = <a class="code" href="group__DRV__UART__MODULE.html#gab0f66688faa39bad28c36465ac88c538">UART_read</a>(gUartHandle, &amp;transaction);</div>
<div class="line">    <span class="keywordflow">if</span>((<a class="code" href="group__KERNEL__DPL__SYSTEM.html#ga47e638d7c694e6d42e57b96b071b8a6f">SystemP_SUCCESS</a> != transferOK) ||</div>
<div class="line">       (<a class="code" href="group__DRV__UART__MODULE.html#gae17e233f9fa3c0076f5d252a6c4cc5da">UART_TRANSFER_STATUS_SUCCESS</a> != transaction.<a class="code" href="structUART__Transaction.html#a854382b26b213a25665e4176a35b18a5">status</a>))</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">/* UART transfer failed!! */</span></div>
<div class="line">        <a class="code" href="group__KERNEL__DPL__DEBUG.html#ga552e9055ca7eab5fe6c224c6cd5a9d4c">DebugP_assert</a>(FALSE);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">/* Wait for callback */</span></div>
<div class="line">        <a class="code" href="group__KERNEL__DPL__SEMAPHORE.html#ga8733f9edac3a2d559b97dc0d115c3ba8">SemaphoreP_pend</a>(&amp;gUartReadDoneSem, <a class="code" href="group__KERNEL__DPL__SYSTEM.html#ga376db5d2fbbc54611736778be8e15431">SystemP_WAIT_FOREVER</a>);</div>
<div class="line">        <a class="code" href="group__KERNEL__DPL__DEBUG.html#ga552e9055ca7eab5fe6c224c6cd5a9d4c">DebugP_assert</a>(gNumBytesRead == transaction.<a class="code" href="structUART__Transaction.html#a32842a6d05bd3dc31d31a8502da5e190">count</a>);</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --> <h1><a class="anchor" id="autotoc_md593"></a>
API</h1>
<p><a class="el" href="group__DRV__UART__MODULE.html">APIs for UART</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div class="ttc" id="agroup__DRV__UART__MODULE_html_ga07908a73787a9ef3e8356c51524b8c44"><div class="ttname"><a href="group__DRV__UART__MODULE.html#ga07908a73787a9ef3e8356c51524b8c44">UART_Transaction_init</a></div><div class="ttdeci">static void UART_Transaction_init(UART_Transaction *trans)</div><div class="ttdoc">Function to initialize the UART_Transaction struct to its defaults.</div><div class="ttdef"><b>Definition:</b> uart/v0/uart.h:852</div></div>
<div class="ttc" id="agroup__DRV__UART__MODULE_html_gae17e233f9fa3c0076f5d252a6c4cc5da"><div class="ttname"><a href="group__DRV__UART__MODULE.html#gae17e233f9fa3c0076f5d252a6c4cc5da">UART_TRANSFER_STATUS_SUCCESS</a></div><div class="ttdeci">#define UART_TRANSFER_STATUS_SUCCESS</div><div class="ttdoc">Transaction success.</div><div class="ttdef"><b>Definition:</b> uart/v0/uart.h:96</div></div>
<div class="ttc" id="agroup__DRV__UART__MODULE_html_ga1daace75c81c26cd9ec7be4ac73525f1"><div class="ttname"><a href="group__DRV__UART__MODULE.html#ga1daace75c81c26cd9ec7be4ac73525f1">UART_Handle</a></div><div class="ttdeci">void * UART_Handle</div><div class="ttdoc">A handle that is returned from a UART_open() call.</div><div class="ttdef"><b>Definition:</b> uart/v0/uart.h:85</div></div>
<div class="ttc" id="agroup__KERNEL__DPL__SYSTEM_html_ga376db5d2fbbc54611736778be8e15431"><div class="ttname"><a href="group__KERNEL__DPL__SYSTEM.html#ga376db5d2fbbc54611736778be8e15431">SystemP_WAIT_FOREVER</a></div><div class="ttdeci">#define SystemP_WAIT_FOREVER</div><div class="ttdoc">Value to use when needing a timeout of infinity or wait forver until resource is available.</div><div class="ttdef"><b>Definition:</b> SystemP.h:83</div></div>
<div class="ttc" id="agroup__DRV__UART__MODULE_html_ga10c9465c727e535023d9097b8b842bf9"><div class="ttname"><a href="group__DRV__UART__MODULE.html#ga10c9465c727e535023d9097b8b842bf9">UART_write</a></div><div class="ttdeci">int32_t UART_write(UART_Handle handle, UART_Transaction *trans)</div><div class="ttdoc">Function to perform UART write operation.</div></div>
<div class="ttc" id="agroup__DRV__UART__MODULE_html_ga6b49b65f3db709c408dc4db23a68895d"><div class="ttname"><a href="group__DRV__UART__MODULE.html#ga6b49b65f3db709c408dc4db23a68895d">UART_close</a></div><div class="ttdeci">void UART_close(UART_Handle handle)</div><div class="ttdoc">Function to close a UART peripheral specified by the UART handle.</div></div>
<div class="ttc" id="astructUART__Transaction_html_a7b69de4428b23b65786efaa8179d412a"><div class="ttname"><a href="structUART__Transaction.html#a7b69de4428b23b65786efaa8179d412a">UART_Transaction::args</a></div><div class="ttdeci">void * args</div><div class="ttdef"><b>Definition:</b> uart/v0/uart.h:420</div></div>
<div class="ttc" id="auart_8h_html"><div class="ttname"><a href="uart_8h.html">uart.h</a></div></div>
<div class="ttc" id="agroup__KERNEL__DPL__DEBUG_html_ga7824b4e99fe103a171fbc355a1c01c67"><div class="ttname"><a href="group__KERNEL__DPL__DEBUG.html#ga7824b4e99fe103a171fbc355a1c01c67">DebugP_assertNoLog</a></div><div class="ttdeci">#define DebugP_assertNoLog(expression)</div><div class="ttdoc">Function to call for assert check, no logs are printed.</div><div class="ttdef"><b>Definition:</b> DebugP.h:175</div></div>
<div class="ttc" id="astructUART__Params_html"><div class="ttname"><a href="structUART__Params.html">UART_Params</a></div><div class="ttdoc">UART Parameters.</div><div class="ttdef"><b>Definition:</b> uart/v0/uart.h:445</div></div>
<div class="ttc" id="astructUART__Params_html_afadb98d0a0ef6e17240bab79306e7828"><div class="ttname"><a href="structUART__Params.html#afadb98d0a0ef6e17240bab79306e7828">UART_Params::baudRate</a></div><div class="ttdeci">uint32_t baudRate</div><div class="ttdef"><b>Definition:</b> uart/v0/uart.h:446</div></div>
<div class="ttc" id="agroup__KERNEL__DPL__SYSTEM_html_ga47e638d7c694e6d42e57b96b071b8a6f"><div class="ttname"><a href="group__KERNEL__DPL__SYSTEM.html#ga47e638d7c694e6d42e57b96b071b8a6f">SystemP_SUCCESS</a></div><div class="ttdeci">#define SystemP_SUCCESS</div><div class="ttdoc">Return status when the API execution was successful.</div><div class="ttdef"><b>Definition:</b> SystemP.h:56</div></div>
<div class="ttc" id="astructUART__Transaction_html_a854382b26b213a25665e4176a35b18a5"><div class="ttname"><a href="structUART__Transaction.html#a854382b26b213a25665e4176a35b18a5">UART_Transaction::status</a></div><div class="ttdeci">uint32_t status</div><div class="ttdef"><b>Definition:</b> uart/v0/uart.h:418</div></div>
<div class="ttc" id="astructUART__Transaction_html"><div class="ttname"><a href="structUART__Transaction.html">UART_Transaction</a></div><div class="ttdoc">Data structure used with UART_read() and UART_write()</div><div class="ttdef"><b>Definition:</b> uart/v0/uart.h:408</div></div>
<div class="ttc" id="agroup__DRV__UART__MODULE_html_gab540e9ef2a649eeff29085cfa653d097"><div class="ttname"><a href="group__DRV__UART__MODULE.html#gab540e9ef2a649eeff29085cfa653d097">UART_open</a></div><div class="ttdeci">UART_Handle UART_open(uint32_t index, const UART_Params *prms)</div><div class="ttdoc">This function opens a given UART peripheral.</div></div>
<div class="ttc" id="agroup__KERNEL__DPL__SEMAPHORE_html_ga23075425da4d8a65a53209b5fdd3fafe"><div class="ttname"><a href="group__KERNEL__DPL__SEMAPHORE.html#ga23075425da4d8a65a53209b5fdd3fafe">SemaphoreP_post</a></div><div class="ttdeci">void SemaphoreP_post(SemaphoreP_Object *obj)</div><div class="ttdoc">Post a semaphore object or unlock a mutex.</div></div>
<div class="ttc" id="agroup__DRV__UART__MODULE_html_ga811065c407cbf7b7553140a6d91887fc"><div class="ttname"><a href="group__DRV__UART__MODULE.html#ga811065c407cbf7b7553140a6d91887fc">UART_Params_init</a></div><div class="ttdeci">static void UART_Params_init(UART_Params *prms)</div><div class="ttdoc">Function to initialize the UART_Params struct to its defaults.</div><div class="ttdef"><b>Definition:</b> uart/v0/uart.h:826</div></div>
<div class="ttc" id="agroup__DRV__UART__MODULE_html_gab0f66688faa39bad28c36465ac88c538"><div class="ttname"><a href="group__DRV__UART__MODULE.html#gab0f66688faa39bad28c36465ac88c538">UART_read</a></div><div class="ttdeci">int32_t UART_read(UART_Handle handle, UART_Transaction *trans)</div><div class="ttdoc">Function to perform UART read operation.</div></div>
<div class="ttc" id="agroup__KERNEL__DPL__DEBUG_html_ga552e9055ca7eab5fe6c224c6cd5a9d4c"><div class="ttname"><a href="group__KERNEL__DPL__DEBUG.html#ga552e9055ca7eab5fe6c224c6cd5a9d4c">DebugP_assert</a></div><div class="ttdeci">#define DebugP_assert(expression)</div><div class="ttdoc">Function to call for assert check.</div><div class="ttdef"><b>Definition:</b> DebugP.h:159</div></div>
<div class="ttc" id="astructUART__Transaction_html_a6c4f6bad66a3b2e1ff61e26c7e958686"><div class="ttname"><a href="structUART__Transaction.html#a6c4f6bad66a3b2e1ff61e26c7e958686">UART_Transaction::buf</a></div><div class="ttdeci">void * buf</div><div class="ttdef"><b>Definition:</b> uart/v0/uart.h:409</div></div>
<div class="ttc" id="agroup__KERNEL__DPL__SEMAPHORE_html_ga8733f9edac3a2d559b97dc0d115c3ba8"><div class="ttname"><a href="group__KERNEL__DPL__SEMAPHORE.html#ga8733f9edac3a2d559b97dc0d115c3ba8">SemaphoreP_pend</a></div><div class="ttdeci">int32_t SemaphoreP_pend(SemaphoreP_Object *obj, uint32_t timeToWaitInTicks)</div><div class="ttdoc">Pend on a semaphore object or lock a mutex.</div></div>
<div class="ttc" id="astructUART__Transaction_html_a32842a6d05bd3dc31d31a8502da5e190"><div class="ttname"><a href="structUART__Transaction.html#a32842a6d05bd3dc31d31a8502da5e190">UART_Transaction::count</a></div><div class="ttdeci">uint32_t count</div><div class="ttdef"><b>Definition:</b> uart/v0/uart.h:412</div></div>
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
