<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" href="favicon.png" type="image/png">    
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<title>AM64x MCU+ SDK: MCAN External Loopback Interrupt</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<style>
.tinav {
    background: #c00;
    /* height: 41.375px; */
    height: 30px;
    }
</style>    
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 40px;">
  <td id="projectlogo"><a href="https://www.ti.com"><img alt="Logo" src="ti_logo.svg"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AM64x MCU+ SDK
   &#160;<span id="projectnumber">08.01.00</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
<div class=tinav></div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('EXAMPLES_DRIVERS_MCAN_EXTERNAL_LOOPBACK_INTERRUPT.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">MCAN External Loopback Interrupt </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md947">Introduction</a></li>
<li class="level1"><a href="#EXAMPLES_DRIVERS_MCAN_EXTERNAL_LOOPBACK_INTERRUPT_COMBOS">Supported Combinations</a></li>
<li class="level1"><a href="#autotoc_md948">Steps to Run the Example</a></li>
<li class="level1"><a href="#autotoc_md949">See Also</a></li>
<li class="level1"><a href="#autotoc_md950">Sample Output</a></li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="md_examples_drivers_mcan_external_loopback_interrupt"></a></p>
<h1><a class="anchor" id="autotoc_md947"></a>
Introduction</h1>
<p>This example is a multi core application which demonstrates the CAN message communication between the MCAN instances. Instance MCAN1 is designated as 'TX' and the other instance MCAN0 is designated as 'RX'.</p>
<p>The MCAN1 instance initiates the transmission by sending a message. The MCAN0 instance receives the same message. Message is transmitted with the following configuration.</p>
<ul>
<li>CAN FD Message Format.</li>
<li>Message ID Type is Standard, Message Id is defined as 0xC0.</li>
<li>MCAN is configured in Interrupt Mode.</li>
<li>MCAN Interrupt Line Number 0.</li>
<li>Arbitration Bit Rate 1Mbps.</li>
<li>Data Bit Rate 5Mbps.</li>
<li>Buffer mode is used for both TX/RX to send/receive message in message RAM.</li>
</ul>
<p>This example runs for 10 iterations and in each iteration the received message id and the data is compared with the transmitted one. After 10 iterations the example is completed. This is a example CAN communication, user can configure different message formats as needed for their applications.</p>
<p>These 2 MCAN instances are connected externally. Below are the connection details.</p>
<ul>
<li>All pins are on the base board.</li>
<li>Pin number 1 starts from the triangular arrow mark. <table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">MCAN0  </th><th class="markdownTableHeadNone">MCAN1   </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">MCAN0_H(Pin 1  of J31)  </td><td class="markdownTableBodyNone">MCAN1_H(Pin 1  of J32)   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">MCAN0_L(Pin 3  of J31)  </td><td class="markdownTableBodyNone">MCAN1_L(Pin 3  of J32)   </td></tr>
</table>
</li>
</ul>
<h1><a class="anchor" id="EXAMPLES_DRIVERS_MCAN_EXTERNAL_LOOPBACK_INTERRUPT_COMBOS"></a>
Supported Combinations</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Parameter  </th><th class="markdownTableHeadNone">Value   </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone" rowspan="2">CPU + OS  </td><td class="markdownTableBodyNone">r5fss0-0 freertos   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">r5fss0-1 nortos   </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Toolchain  </td><td class="markdownTableBodyNone">ti-arm-clang   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Board  </td><td class="markdownTableBodyNone">am64x-evm   </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Example folder  </td><td class="markdownTableBodyNone">examples/drivers/mcan/mcan_external_loopback_interrupt   </td></tr>
</table>
<dl class="section note"><dt>Note</dt><dd>MCAN transceiver is enabled in RX application via mcan_enableTransceiver() function. To enable transceiver, I2C1 should be configured in SYSCFG.</dd></dl>
<h1><a class="anchor" id="autotoc_md948"></a>
Steps to Run the Example</h1>
<ul>
<li><b>When using CCS projects to build</b>, import the CCS project for the required combination and build it using the CCS project menu (see <a class="el" href="CCS_PROJECTS_PAGE.html">Using SDK with CCS Projects</a>).</li>
<li><b>When using makefiles to build</b>, note the required combination and build using make command (see <a class="el" href="MAKEFILE_BUILD_PAGE.html">Using SDK with Makefiles</a>)</li>
<li>Launch a CCS debug session and run the executable, see <a class="el" href="CCS_LAUNCH_PAGE.html">CCS Launch, Load and Run</a></li>
<li>This is a multi-core example. Hence the executables should be loaded and run for all the above mentioned cores</li>
<li>The application has a sync mechanism at the start which waits for all cores to start before doing the test. Hence the cores can be loaded and run in any sequence.</li>
</ul>
<h1><a class="anchor" id="autotoc_md949"></a>
See Also</h1>
<p><a class="el" href="DRIVERS_MCAN_PAGE.html">MCAN</a></p>
<h1><a class="anchor" id="autotoc_md950"></a>
Sample Output</h1>
<p>Shown below is a sample output when the application is run,</p>
<div class="fragment"><div class="line">[MCAN] RX Application, Interrupt mode started ...</div>
<div class="line">[r5f0-1]     0.000446s : [MCAN] TX Application, Interrupt mode started ...</div>
<div class="line">All tests have passed!!</div>
<div class="line">[r5f0-1]     0.013952s : [MCAN]TX test passed!!</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
