<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" href="favicon.png" type="image/png">    
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<title>AM64x MCU+ SDK: USB CDC Echo Example</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<style>
.tinav {
    background: #c00;
    /* height: 41.375px; */
    height: 30px;
    }
</style>    
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 40px;">
  <td id="projectlogo"><a href="https://www.ti.com"><img alt="Logo" src="ti_logo.svg"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AM64x MCU+ SDK
   &#160;<span id="projectnumber">08.01.00</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
<div class=tinav></div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('EXAMPLES_USB_CDC_ECHO.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">USB CDC Echo Example </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md1152">Introduction</a></li>
<li class="level1"><a href="#EXAMPLES_USB_CDC_ECHO_EXAMPLE_COMBOS">Supported Combinations</a></li>
<li class="level1"><a href="#autotoc_md1153">Steps to Run the Example</a><ul><li class="level2"><a href="#autotoc_md1154">Build the example</a></li>
<li class="level2"><a href="#autotoc_md1155">HW Setup</a></li>
<li class="level2"><a href="#autotoc_md1156">Run the example</a><ul><li class="level3"><a href="#autotoc_md1157">For Window 10</a></li>
<li class="level3"><a href="#autotoc_md1158">For Linux</a></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><a href="#autotoc_md1159">See Also</a></li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="md_examples_usb_usb_cdc_echo_example"></a></p>
<h1><a class="anchor" id="autotoc_md1152"></a>
Introduction</h1>
<p>This example is a USB device CDC-ACM application based on USB CDC class from TinyUSB.</p>
<p>The example does the below</p><ul>
<li>Initializes the TinyUSB USB core driver and CDC class</li>
<li>Create two virtual COM ports visible to an USB host</li>
<li>Any alphabetic input from the USB host will be echo-ed back in lower case on one COM and in upper case in the other COM port</li>
</ul>
<h1><a class="anchor" id="EXAMPLES_USB_CDC_ECHO_EXAMPLE_COMBOS"></a>
Supported Combinations</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Parameter  </th><th class="markdownTableHeadNone">Value   </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone" rowspan="2">CPU + OS  </td><td class="markdownTableBodyNone">r5fss0-0_freertos   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">r5fss0-0_nortos   </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Toolchain  </td><td class="markdownTableBodyNone">ti-arm-clang   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Board  </td><td class="markdownTableBodyNone">am64x-evm   </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Example folder  </td><td class="markdownTableBodyNone">examples/usb/device/cdc_echo   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md1153"></a>
Steps to Run the Example</h1>
<h2><a class="anchor" id="autotoc_md1154"></a>
Build the example</h2>
<ul>
<li>When using CCS projects to build, import the CCS project for the required combination and build it using the CCS project menu (see <a class="el" href="CCS_PROJECTS_PAGE.html">Using SDK with CCS Projects</a>).</li>
<li>When using makefiles to build, note the required combination and build using make command (see <a class="el" href="MAKEFILE_BUILD_PAGE.html">Using SDK with Makefiles</a>)</li>
</ul>
<h2><a class="anchor" id="autotoc_md1155"></a>
HW Setup</h2>
<ul>
<li>To test the application, one can use a Windows/Linux PC as a USB host</li>
<li>Connect the J24 on AM64x/AM243x EVM to the USB host</li>
</ul>
<p> <style>div.image img[src="am64x_am243x_evm_j24.png"]{width:30%}</style> </p><div class="image">
<img src="am64x_am243x_evm_j24.png" alt=""/>
<div class="caption">
USB 2.0 Host/Device Connector</div></div>
<h2><a class="anchor" id="autotoc_md1156"></a>
Run the example</h2>
<ul>
<li>Launch a CCS debug session and run the executable, see <a class="el" href="CCS_LAUNCH_PAGE.html">CCS Launch, Load and Run</a></li>
<li>When the application is running, two COM ports will be enumerated on the USB host</li>
</ul>
<h3><a class="anchor" id="autotoc_md1157"></a>
For Window 10</h3>
<ul>
<li>The two enumerated COM ports can be displayed using the Device Manager on Windows 10,</li>
</ul>
<p> <style>div.image img[src="usb_cdc_echo_example_enum.png"]{width:50%}</style> </p><div class="image">
<img src="usb_cdc_echo_example_enum.png" alt=""/>
<div class="caption">
COM ports (COM3 and COM4) displayed using Deveice Manager</div></div>
<ul>
<li>On USB host, use any serial port communication program, like Tera Term, to connect to those two COM ports</li>
</ul>
<p> <style>div.image img[src="usb_cdc_echo_example_com3.png"]{width:30%}</style> </p><div class="image">
<img src="usb_cdc_echo_example_com3.png" alt=""/>
<div class="caption">
Using Tera Term to connect to port 1</div></div>
<p> <style>div.image img[src="usb_cdc_echo_example_com4.png"]{width:30%}</style> </p><div class="image">
<img src="usb_cdc_echo_example_com4.png" alt=""/>
<div class="caption">
Using Tera Term to connect to port 2</div></div>
<ul>
<li>Type in any alphabetic characters, the lower case of the input will be displayed on one COM port and the upper case of the input will be displayed on the other COM port</li>
</ul>
<p> <style>div.image img[src="usb_cdc_echo_example_lower.png"]{width:30%}</style> </p><div class="image">
<img src="usb_cdc_echo_example_lower.png" alt=""/>
<div class="caption">
Lower Case Input Echo-ed</div></div>
<p> <style>div.image img[src="usb_cdc_echo_example_upper.png"]{width:30%}</style> </p><div class="image">
<img src="usb_cdc_echo_example_upper.png" alt=""/>
<div class="caption">
Upper Case Input Echo-ed</div></div>
<h3><a class="anchor" id="autotoc_md1158"></a>
For Linux</h3>
<ul>
<li>The two enumerated serial ports can be enumerated as "/dev/ttyACM0" and "/dev/ttyACM1"</li>
<li>On Linux, one has to change the access right for those two serial ports as shown below.</li>
<li>Then use any serial port communication program, like putty, to connect to those two serial ports</li>
</ul>
<p> <style>div.image img[src="usb_cdc_echo_linux_ttyacm0.png"]{width:30%}</style> </p><div class="image">
<img src="usb_cdc_echo_linux_ttyacm0.png" alt=""/>
<div class="caption">
Using putty to connect to port 1</div></div>
<p> <style>div.image img[src="usb_cdc_echo_linux_ttyacm1.png"]{width:30%}</style> </p><div class="image">
<img src="usb_cdc_echo_linux_ttyacm1.png" alt=""/>
<div class="caption">
Using putty to connect to port 2</div></div>
<ul>
<li>Type in any alphabetic characters, the lower case of the input will be displayed on one COM port and the upper case of the input will be displayed on the other COM port</li>
</ul>
<p> <style>div.image img[src="usb_cdc_echo_linux_lower.png"]{width:30%}</style> </p><div class="image">
<img src="usb_cdc_echo_linux_lower.png" alt=""/>
<div class="caption">
Lower Case Input Echo-ed</div></div>
<p> <style>div.image img[src="usb_cdc_echo_linux_upper.png"]{width:30%}</style> </p><div class="image">
<img src="usb_cdc_echo_linux_upper.png" alt=""/>
<div class="caption">
Upper Case Input Echo-ed</div></div>
<h1><a class="anchor" id="autotoc_md1159"></a>
See Also</h1>
<p><a class="el" href="USB_DEVICE_DRIVER.html">USB</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
