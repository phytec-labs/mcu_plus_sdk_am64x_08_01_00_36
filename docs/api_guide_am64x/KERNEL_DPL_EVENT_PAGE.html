<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" href="favicon.png" type="image/png">    
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<title>AM64x MCU+ SDK: Event</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<style>
.tinav {
    background: #c00;
    /* height: 41.375px; */
    height: 30px;
    }
</style>    
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 40px;">
  <td id="projectlogo"><a href="https://www.ti.com"><img alt="Logo" src="ti_logo.svg"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AM64x MCU+ SDK
   &#160;<span id="projectnumber">08.01.00</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
<div class=tinav></div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('KERNEL_DPL_EVENT_PAGE.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Event </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md405">Features Supported</a></li>
<li class="level1"><a href="#autotoc_md406">Features NOT Supported</a></li>
<li class="level1"><a href="#autotoc_md407">Important Usage Guidelines</a></li>
<li class="level1"><a href="#autotoc_md408">Example Usage</a></li>
<li class="level1"><a href="#autotoc_md409">API</a></li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="md_components_kernel_dpl_EventP"></a></p>
<h1><a class="anchor" id="autotoc_md405"></a>
Features Supported</h1>
<ul>
<li>APIs to construct and destruct Events</li>
<li>APIs to set, get or clear bits and wait for bits</li>
</ul>
<h1><a class="anchor" id="autotoc_md406"></a>
Features NOT Supported</h1>
<ul>
<li>These APIs are not implemented for no-RTOS. Error will be returned if these APIs called using no-RTOS.</li>
</ul>
<h1><a class="anchor" id="autotoc_md407"></a>
Important Usage Guidelines</h1>
<ul>
<li><a class="el" href="group__KERNEL__DPL__EVENT.html#ga49665ab39513aebef09c689c6e1c34cd">EventP_waitBits</a> should not be called within ISR context. It can be called from task context.</li>
<li>Setting or clearing the Event bits is a non-deterministic operation and FreeRTOS does not allow non-deterministic operations to be performed in interrupts or from critical sections. If <a class="el" href="group__KERNEL__DPL__EVENT.html#ga3ebf3093b25a2a3036ef20f5224c69cc">EventP_setBits</a> or <a class="el" href="group__KERNEL__DPL__EVENT.html#ga1862bf85d3f7e9ff0dfafa22e2da2fe4">EventP_clearBits</a> is called from an ISR, a message is sent to RTOS daemon task to perform the operation in the context of daemon task. If the set or clear operation is required to be completed immediately, then the priority of RTOS daemon task must be higher than the priority of task waiting for the Event bits. The priority of RTOS daemon task is set by the <code>configTIMER_TASK_PRIORITY</code> in FreeRTOSConfig.h file.</li>
<li>The actual current value of Event bits returned from <a class="el" href="group__KERNEL__DPL__EVENT.html#ga49665ab39513aebef09c689c6e1c34cd">EventP_waitBits</a> and <a class="el" href="group__KERNEL__DPL__EVENT.html#gafc3f4a27c2889586c62ad25508f86275">EventP_getBits</a> can be different from returned value if an interrupt or a higher priority task modifies the value between the calling task leaving blocked state and exiting this API.</li>
</ul>
<h1><a class="anchor" id="autotoc_md408"></a>
Example Usage</h1>
<p>Include the below file to access the APIs </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="EventP_8h.html">kernel/dpl/EventP.h</a>&gt;</span></div>
</div><!-- fragment --><p> Example usage to define an Event </p><div class="fragment"><div class="line"><span class="comment">/* Event objects, typically these are global&#39;s */</span></div>
<div class="line"><a class="code" href="structEventP__Object.html">EventP_Object</a> gMyEvent;</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Event bits */</span></div>
<div class="line"><span class="comment">/* Event bit mask upto 24 bits */</span></div>
<div class="line"><span class="preprocessor">#define EVENT_BIT_PING (0x000001u)</span></div>
<div class="line"><span class="preprocessor">#define EVENT_BIT_PONG (0x000002u)</span></div>
</div><!-- fragment --><p> Example usage to create an Event </p><div class="fragment"><div class="line">    status = <a class="code" href="group__KERNEL__DPL__EVENT.html#gafca8272287bdaa6a6e5cc7b29f52105e">EventP_construct</a>(&amp;gMyEvent);</div>
</div><!-- fragment --><p> Example usage to set and wait for bits across two tasks </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> task1(<span class="keywordtype">void</span> *args)</div>
<div class="line">{</div>
<div class="line">    int32_t status;</div>
<div class="line">    uint32_t eventBits;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Set PING bit from task1 */</span></div>
<div class="line">    status = <a class="code" href="group__KERNEL__DPL__EVENT.html#ga3ebf3093b25a2a3036ef20f5224c69cc">EventP_setBits</a>(&amp;gMyEvent, EVENT_BIT_PING);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Reading the Event Bits */</span></div>
<div class="line">    status = <a class="code" href="group__KERNEL__DPL__EVENT.html#gafc3f4a27c2889586c62ad25508f86275">EventP_getBits</a>(&amp;gMyEvent, &amp;eventBits);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Wait for PONG but to be set from task2. PING bit was already set */</span></div>
<div class="line">    status = <a class="code" href="group__KERNEL__DPL__EVENT.html#ga49665ab39513aebef09c689c6e1c34cd">EventP_waitBits</a>(&amp;gMyEvent, (EVENT_BIT_PING | EVENT_BIT_PONG), 0, 1, <a class="code" href="group__KERNEL__DPL__SYSTEM.html#ga376db5d2fbbc54611736778be8e15431">SystemP_WAIT_FOREVER</a>, &amp;eventBits);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Clearing the PING and PONG bits */</span></div>
<div class="line">    status = <a class="code" href="group__KERNEL__DPL__EVENT.html#ga1862bf85d3f7e9ff0dfafa22e2da2fe4">EventP_clearBits</a>(&amp;gMyEvent, (EVENT_BIT_PING | EVENT_BIT_PONG));</div>
<div class="line">}</div>
</div><!-- fragment --><div class="fragment"><div class="line"><span class="keywordtype">void</span> task2(<span class="keywordtype">void</span> *args)</div>
<div class="line">{</div>
<div class="line">    int32_t status;</div>
<div class="line">    uint32_t eventBits;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Wait for PING but to be set from task1*/</span></div>
<div class="line">    status = <a class="code" href="group__KERNEL__DPL__EVENT.html#ga49665ab39513aebef09c689c6e1c34cd">EventP_waitBits</a>(&amp;gMyEvent, EVENT_BIT_PING, 0, 1, <a class="code" href="group__KERNEL__DPL__SYSTEM.html#ga376db5d2fbbc54611736778be8e15431">SystemP_WAIT_FOREVER</a>, &amp;eventBits);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Set PONG bit from task2 */</span></div>
<div class="line">    status = <a class="code" href="group__KERNEL__DPL__EVENT.html#ga3ebf3093b25a2a3036ef20f5224c69cc">EventP_setBits</a>(&amp;gMyEvent, EVENT_BIT_PONG);</div>
<div class="line"> </div>
<div class="line">}</div>
</div><!-- fragment --> <h1><a class="anchor" id="autotoc_md409"></a>
API</h1>
<p><a class="el" href="group__KERNEL__DPL__EVENT.html">APIs for Event</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div class="ttc" id="agroup__KERNEL__DPL__EVENT_html_ga1862bf85d3f7e9ff0dfafa22e2da2fe4"><div class="ttname"><a href="group__KERNEL__DPL__EVENT.html#ga1862bf85d3f7e9ff0dfafa22e2da2fe4">EventP_clearBits</a></div><div class="ttdeci">int32_t EventP_clearBits(EventP_Object *obj, uint32_t bitsToClear)</div><div class="ttdoc">Clear a bit or multiple bits in the Event bits.</div></div>
<div class="ttc" id="agroup__KERNEL__DPL__EVENT_html_ga49665ab39513aebef09c689c6e1c34cd"><div class="ttname"><a href="group__KERNEL__DPL__EVENT.html#ga49665ab39513aebef09c689c6e1c34cd">EventP_waitBits</a></div><div class="ttdeci">int32_t EventP_waitBits(EventP_Object *obj, uint32_t bitsToWaitFor, uint8_t clearOnExit, uint8_t waitForAll, uint32_t timeToWaitInTicks, uint32_t *eventBits)</div><div class="ttdoc">Read the Event bits, after optionally waiting for a bit or multiple bits to be set.</div></div>
<div class="ttc" id="agroup__KERNEL__DPL__SYSTEM_html_ga376db5d2fbbc54611736778be8e15431"><div class="ttname"><a href="group__KERNEL__DPL__SYSTEM.html#ga376db5d2fbbc54611736778be8e15431">SystemP_WAIT_FOREVER</a></div><div class="ttdeci">#define SystemP_WAIT_FOREVER</div><div class="ttdoc">Value to use when needing a timeout of infinity or wait forver until resource is available.</div><div class="ttdef"><b>Definition:</b> SystemP.h:83</div></div>
<div class="ttc" id="agroup__KERNEL__DPL__EVENT_html_gafc3f4a27c2889586c62ad25508f86275"><div class="ttname"><a href="group__KERNEL__DPL__EVENT.html#gafc3f4a27c2889586c62ad25508f86275">EventP_getBits</a></div><div class="ttdeci">int32_t EventP_getBits(EventP_Object *obj, uint32_t *eventBits)</div><div class="ttdoc">Getting the current value of Event bits.</div></div>
<div class="ttc" id="astructEventP__Object_html"><div class="ttname"><a href="structEventP__Object.html">EventP_Object</a></div><div class="ttdoc">Opaque Event object used with the Event APIs.</div><div class="ttdef"><b>Definition:</b> EventP.h:60</div></div>
<div class="ttc" id="agroup__KERNEL__DPL__EVENT_html_gafca8272287bdaa6a6e5cc7b29f52105e"><div class="ttname"><a href="group__KERNEL__DPL__EVENT.html#gafca8272287bdaa6a6e5cc7b29f52105e">EventP_construct</a></div><div class="ttdeci">int32_t EventP_construct(EventP_Object *obj)</div><div class="ttdoc">Create an Event object.</div></div>
<div class="ttc" id="agroup__KERNEL__DPL__EVENT_html_ga3ebf3093b25a2a3036ef20f5224c69cc"><div class="ttname"><a href="group__KERNEL__DPL__EVENT.html#ga3ebf3093b25a2a3036ef20f5224c69cc">EventP_setBits</a></div><div class="ttdeci">int32_t EventP_setBits(EventP_Object *obj, uint32_t bitsToSet)</div><div class="ttdoc">Setting a bit or multiple bits in the Event bits.</div></div>
<div class="ttc" id="aEventP_8h_html"><div class="ttname"><a href="EventP_8h.html">EventP.h</a></div></div>
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
