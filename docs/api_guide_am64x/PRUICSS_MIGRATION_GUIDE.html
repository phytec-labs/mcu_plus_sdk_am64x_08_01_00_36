<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" href="favicon.png" type="image/png">    
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<title>AM64x MCU+ SDK: PRUICSS Driver Migration Guide</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<style>
.tinav {
    background: #c00;
    /* height: 41.375px; */
    height: 30px;
    }
</style>    
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 40px;">
  <td id="projectlogo"><a href="https://www.ti.com"><img alt="Logo" src="ti_logo.svg"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AM64x MCU+ SDK
   &#160;<span id="projectnumber">08.01.00</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
<div class=tinav></div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('PRUICSS_MIGRATION_GUIDE.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">PRUICSS Driver Migration Guide </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_migration_guides_pruicss_migration_guide"></a> This list describes the differences between PRUICSS driver of MCU+ SDK and PRUSS driver from the PDK.</p>
<h1><a class="anchor" id="autotoc_md261"></a>
API changes</h1>
<p>There are changes in API names, structure names and macro names. All names begin with <code>PRUICSS_</code> now. Arguments to APIs are same as earlier. All the APIs from PDK driver are not included, only the ones used in the examples, Industrial Protocol FW HAL(Firmware and Hardware Abstraction Layer), ICSS-EMAC and ICSS Timesync an are added in the MCU+ SDK's driver. The changes in API names are listed below.</p>
<table class="doxtable">
<tr>
<th>PDK </th><th>MCU+ SDK  </th></tr>
<tr>
<td>Not available </td><td><a class="el" href="group__DRV__PRUICSS__MODULE.html#gadbc52bd3d18cd189cafea5c8dd743d12">PRUICSS_init</a>  </td></tr>
<tr>
<td>Not available </td><td><a class="el" href="group__DRV__PRUICSS__MODULE.html#ga3776ca5f8f753aea784e39f8bfe27ced">PRUICSS_deinit</a>  </td></tr>
<tr>
<td>PRUICSS_create </td><td><a class="el" href="group__DRV__PRUICSS__MODULE.html#ga6779b9e50b38ea5061d7fe0803956024">PRUICSS_open</a>  </td></tr>
<tr>
<td>Not available </td><td><a class="el" href="group__DRV__PRUICSS__MODULE.html#ga01a4c0922eb086154244f30cbae53f77">PRUICSS_close</a>  </td></tr>
<tr>
<td>PRUICSS_pruIntcInit </td><td><a class="el" href="group__DRV__PRUICSS__MODULE.html#gacb9fcd2e989376394c0c628ea9ddc39f">PRUICSS_intcInit</a>  </td></tr>
<tr>
<td>PRUICSS_registerIrqHandler </td><td><a class="el" href="group__DRV__PRUICSS__MODULE.html#ga33ff83157feb722e1b6c00885f09abe5">PRUICSS_registerIrqHandler</a>  </td></tr>
<tr>
<td>PRUICSS_pruReset </td><td><a class="el" href="group__DRV__PRUICSS__MODULE.html#ga96adaeaa6576f836f15f28052c5d4c3a">PRUICSS_resetCore</a>  </td></tr>
<tr>
<td>PRUICSS_pruDisable </td><td><a class="el" href="group__DRV__PRUICSS__MODULE.html#ga37cdf26e6f52377b9bc2806417c1d201">PRUICSS_disableCore</a>  </td></tr>
<tr>
<td>PRUICSS_pruEnable </td><td><a class="el" href="group__DRV__PRUICSS__MODULE.html#ga38b0b2f969a1f8f6fa7e7d911f07dc71">PRUICSS_enableCore</a>  </td></tr>
<tr>
<td>PRUICSS_pruInitMemory </td><td><a class="el" href="group__DRV__PRUICSS__MODULE.html#ga478fd05f7cf75faebfab838587d2131c">PRUICSS_initMemory</a>  </td></tr>
<tr>
<td>PRUICSS_pruWriteMemory </td><td><a class="el" href="group__DRV__PRUICSS__MODULE.html#ga57ddb3591be2f0adf90894e715e52836">PRUICSS_writeMemory</a>  </td></tr>
<tr>
<td>PRUICSS_pruReadMemory </td><td><a class="el" href="group__DRV__PRUICSS__MODULE.html#ga9472977b7646bf6ec78d4a7d024ecff9">PRUICSS_readMemory</a>  </td></tr>
<tr>
<td>PRUICSS_pruSendEvent </td><td><a class="el" href="group__DRV__PRUICSS__MODULE.html#ga1d9010f5f8fba624bfc9573efe516af0">PRUICSS_sendEvent</a>  </td></tr>
<tr>
<td>PRUICSS_pruWaitEvent </td><td><a class="el" href="group__DRV__PRUICSS__MODULE.html#ga6b36e318ddff2b6c71fd5191f5193663">PRUICSS_waitEvent</a>  </td></tr>
<tr>
<td>PRUICSS_pruClearEvent </td><td><a class="el" href="group__DRV__PRUICSS__MODULE.html#gac4586e303eca1f1d11b6a15a49794d26">PRUICSS_clearEvent</a>  </td></tr>
<tr>
<td>PRUICSS_pruSendWaitCearEvent </td><td><a class="el" href="group__DRV__PRUICSS__MODULE.html#gaea9241f3bdec3a1a1f2f46f90e50ef70">PRUICSS_sendWaitClearEvent</a>  </td></tr>
<tr>
<td>PRUICSS_getICSSVersion </td><td><a class="el" href="group__DRV__PRUICSS__MODULE.html#gae39eca135d889d214b7ad48660c9e635">PRUICSS_getVersion</a>  </td></tr>
<tr>
<td>PRUICSS_setConstantTblEntry </td><td><a class="el" href="group__DRV__PRUICSS__MODULE.html#ga620a82266df17298519b0bbcfc5aa3e7">PRUICSS_setConstantTblEntry</a>  </td></tr>
<tr>
<td>PRUICSS_setIepClkSrc </td><td><a class="el" href="group__DRV__PRUICSS__MODULE.html#ga05fe8855f276a2c389307e2b5b31c2f0">PRUICSS_setIepClkSrc</a>  </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md262"></a>
Important Notes</h1>
<ul>
<li>The INTC module in ICSSG supports 160 events and 20 channels, but the PDK driver only supported 64 events and 10 channels. This support has been added in the MCU+ SDK driver for ICSSG. All changes are internal to the driver implementation. API usage for INTC initialization is same as earlier.</li>
<li>Driver implementation uses Semaphore and Hwi. There are differences in TI-RTOS OSAL of PDK, and <a class="el" href="KERNEL_DPL_PAGE.html">Driver Porting Layer (DPL)</a> in MCU+ SDK. Changes were made to address this difference. There is no impact on the use of APIs.</li>
<li>CSL macros were used from <code>pdk/packages/ti/csl/src/ip/icss/V1</code> in PDK driver. In MCU+ SDK, the CSL for ICSSG has been taken from <code>pdk/packages/ti/csl/src/ip/icss/V3</code>, and the file name in MCU+ SDK is <code>${SDK_INSTALL_PATH}/source/drivers/pruicss/g_v0/cslr_icss_g.h</code>.</li>
<li>Macros for HW register access like <code>HWREG</code>, <code>HWREGH</code> and <code>HWREGB</code> are deprecated from CSL in MCU+ SDK. They are replaced with the recommended replacements from <code>${SDK_INSTALL_PATH}/source/drivers/hw_include/hw_types.h</code>.</li>
<li>SysConfig has been added to initialize PRUICSS module and initialize the Core clock. The config name used in SysConfig should be used for <a class="el" href="group__DRV__PRUICSS__MODULE.html#ga6779b9e50b38ea5061d7fe0803956024">PRUICSS_open</a> call. Enum for PRUICSS instance number has been removed.</li>
<li>The member names for <a class="el" href="structPRUICSS__HwAttrs.html">PRUICSS_HwAttrs</a> have been changed. There are few additions and deletions of members.</li>
<li>Few APIs(like <a class="el" href="group__DRV__PRUICSS__MODULE.html#ga2f29c851132abd64aa19913116cca19f">PRUICSS_setIcssCfgMiiMode</a>, <a class="el" href="group__DRV__PRUICSS__MODULE.html#ga658ce5d90a3c1df0e55ae3a1665beaf9">PRUICSS_setGpiMode</a>, etc) have been added to aid users in modifying some of the configuration registers.</li>
<li>It is recommended to use <a class="el" href="group__DRV__PRUICSS__MODULE.html#ga1374a3a273b5e83f35cfbf34ffc25d14">PRUICSS_getAttrs()</a> for getting HwAttrs structure instead of using it directly from handle.</li>
</ul>
<h1><a class="anchor" id="autotoc_md263"></a>
See Also</h1>
<p><a class="el" href="group__DRV__PRUICSS__MODULE.html">APIs for PRUICSS</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
