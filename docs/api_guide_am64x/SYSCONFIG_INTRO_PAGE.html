<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" href="favicon.png" type="image/png">    
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<title>AM64x MCU+ SDK: Using SDK with SysConfig</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<style>
.tinav {
    background: #c00;
    /* height: 41.375px; */
    height: 30px;
    }
</style>    
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 40px;">
  <td id="projectlogo"><a href="https://www.ti.com"><img alt="Logo" src="ti_logo.svg"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AM64x MCU+ SDK
   &#160;<span id="projectnumber">08.01.00</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
<div class=tinav></div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('SYSCONFIG_INTRO_PAGE.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Using SDK with SysConfig </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md154">Introduction</a><ul><li class="level2"><a href="#autotoc_md155">SysConfig Features used in the SDK</a></li>
</ul>
</li>
<li class="level1"><a href="#autotoc_md156">Opening SysConfig GUI from CCS</a></li>
<li class="level1"><a href="#autotoc_md157">Opening SysConfig GUI from command line and makefiles</a></li>
<li class="level1"><a href="#autotoc_md158">Using the SysConfig GUI</a></li>
<li class="level1"><a href="#autotoc_md159">Generating Files using SysConfig</a></li>
<li class="level1"><a href="#autotoc_md160">Understanding Generated Files</a></li>
<li class="level1"><a href="#autotoc_md161">Tips and Tricks for SysConfig</a></li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="md_developer_guides_syscfg_intro"></a></p>
<dl class="section note"><dt>Note</dt><dd>The steps on this page show screen shots and description based on Windows. However the steps in Linux would remain the same, unless mentioned otherwise. </dd>
<dd>
In Linux, use <code>make</code> instead of <code>gmake</code></dd>
<dd>
The screen shots shown on this page are for AM64x MCU+ SDK v7.3.0. You would see your specific SOC and SDK version that is installed. However the instructions and steps mentioned remain the same, unless mentioned otherwise.</dd></dl>
<h1><a class="anchor" id="autotoc_md154"></a>
Introduction</h1>
<p>All the SDK examples can be configured using a GUI tool called SysConfig. Users can choose and configure various modules using this tool. The SysConfig tool will generate the boilerplate code for initializing these modules. Each example will have an example.syscfg file to which the configuration will be saved to. When creating an example for the first time, this can be an empty file.</p>
<h2><a class="anchor" id="autotoc_md155"></a>
SysConfig Features used in the SDK</h2>
<p>In this SDK, SysConfig is used to:</p><ul>
<li>Generate configurations for driver modules, board modules and networking modules</li>
<li>Generate clock and power configurations</li>
<li>Generate pinmux for various peripherals</li>
</ul>
<h1><a class="anchor" id="autotoc_md156"></a>
Opening SysConfig GUI from CCS</h1>
<ul>
<li>To open the Sysconfig GUI from CCS, import the CCS project for the example and simply double click on the example.syscfg in the project explorer window  <style>div.image img[src="sysconfig_ccs_invoke.png"]{ width:30%}</style> <div class="image">
<img src="sysconfig_ccs_invoke.png" alt=""/>
<div class="caption">
Opening SysConfig GUI from CCS</div></div>
</li>
<li>You can see that the GUI can be docked as one of the tabs in the CCS window and be placed in any of the panes just like any other tab.  <style>div.image img[src="sysconfig_in_ccs.png"]{ width:50%}</style> <div class="image">
<img src="sysconfig_in_ccs.png" alt=""/>
<div class="caption">
SysConfig GUI when opened from command line</div></div>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md157"></a>
Opening SysConfig GUI from command line and makefiles</h1>
<ul>
<li>You can also open the Syscfg GUI from the command line. You can refer to <a class="el" href="MAKEFILE_BUILD_PAGE.html#MAKEFILE_EXAMPLE_BUILD">Building examples with makefiles</a> to do this.</li>
<li>For example, if you wanted to configure the dpl hello_world example for r5fss0-0 from the command line, you can run the below commands to do so: <div class="fragment"><div class="line">cd ${SDK_INSTALL_PATH}</div>
<div class="line">gmake -s -C examples/kernel/dpl/hello_world/{board}/r5fss0-0_freertos/ti-arm-clang syscfg-gui</div>
</div><!-- fragment --></li>
<li>Running the command should open a GUI like below:  <style>div.image img[src="sysconfig_cmd_invoke.png"]{ width:50%}</style> <div class="image">
<img src="sysconfig_cmd_invoke.png" alt=""/>
<div class="caption">
SysConfig GUI when opened from command line</div></div>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md158"></a>
Using the SysConfig GUI</h1>
<ul>
<li>The SysConfig GUI is majorly divided into three parts<ul>
<li>A left column (this is hideable) shows a list of modules which can be selected from</li>
<li>A main column shows the description and various configurable parameters available with the selected module</li>
<li>A right column showing the generated files (this is also hideable)</li>
</ul>
</li>
</ul>
<p> <style>div.image img[src="sysconfig_columns"]{ width:30%}</style> </p><div class="image">
<img src="sysconfig_columns.png" alt=""/>
<div class="caption">
SysConfig GUI Columns</div></div>
<ul>
<li>If you are seeing only left and main column and right column (generated files) is hidden. You can unhide it by clicking on "&lt;&gt;" menu on main column. Below is snapshot to do this when SysConfig is launched in CCS.</li>
</ul>
<p> <style>div.image img[src="sysconfig_unhide_generated_files"]{ width:10%}</style> </p><div class="image">
<img src="sysconfig_unhide_generated_files.png" alt=""/>
<div class="caption">
SysConfig GUI Columns</div></div>
<ul>
<li>To add an instance of a module, click the (+) sign next to the module name in the left pane. Alternatively, once the module is clicked, a greyed out details show up on the main right column along with an "ADD(+)" button. This can also be clicked to add an instance of a module. You can add more than one instance of a module if that is permitted for the module in the same way</li>
</ul>
<p> <style>div.image img[src="sysconfig_add_button_left.png"]{ width:75%}</style>  <style>div.image img[src="sysconfig_add_button_main.png"]{ width:75%}</style></p>
<table style="border: 0 px">
<tr>
<td><div class="image">
<img src="sysconfig_add_button_left.png" alt=""/>
<div class="caption">
Adding module instance from left column</div></div>
  </td><td><div class="image">
<img src="sysconfig_add_button_main.png" alt=""/>
<div class="caption">
Adding module instance from main column</div></div>
   </td></tr>
</table>
<ul>
<li>Once a module instance is added, you can configure the various attributes shown. If multiple instances are permitted for a module, there will be a "Name" attribute which will be needed later in the application code to identify and distinguish between module instances.  <style>div.image img[src="sysconfig_name_attribute.png"]{ width:40%}</style> <div class="image">
<img src="sysconfig_name_attribute.png" alt=""/>
<div class="caption">
Name Attribute</div></div>
</li>
<li>While configuring the instance using the attributes shown, the C code which corresponds to the configurations is generated in real time. You can see the file list on the right most column, and clicking on a file will open it in the right column.</li>
</ul>
<p> <style>div.image img[src="sysconfig_generated_files.png"]{ width:75%}</style>  <style>div.image img[src="sysconfig_generated_file_contents.png"]{ width:75%}</style></p>
<table style="border: 0 px">
<tr>
<td><div class="image">
<img src="sysconfig_generated_files.png" alt=""/>
<div class="caption">
Files generated by SysConfig</div></div>
  </td><td><div class="image">
<img src="sysconfig_generated_file_contents.png" alt=""/>
<div class="caption">
Generated file contents</div></div>
   </td></tr>
</table>
<ul>
<li>You can also use the SysConfig GUI to select the PINMUX for a particular module. There will be a default pinmuxing scheme chosen when you add a module, but you can change this according to your needs.</li>
</ul>
<p> <style>div.image img[src="sysconfig_pinmux.png"]{ width:40%}</style> </p><div class="image">
<img src="sysconfig_pinmux.png" alt=""/>
<div class="caption">
Pinmux in SysConfig</div></div>
<ul>
<li>Once all the changes has been done, you can choose File-&gt;Save or Ctrl-S if the GUI was invoked from the command line or simply save the example.syscfg file if opened via CCS.</li>
</ul>
<h1><a class="anchor" id="autotoc_md159"></a>
Generating Files using SysConfig</h1>
<ul>
<li>The files are generated using SysConfig whenever we build the example using command line and makefiles or from CCS.<ul>
<li>In CCS, you can just right click the project and select "Build Project" option  <style>div.image img[src="sysconfig_build_project.png"]{ width:20%}</style> <div class="image">
<img src="sysconfig_build_project.png" alt=""/>
<div class="caption">
Building from CCS</div></div>
</li>
<li>If using command line and makefiles, you can follow <a class="el" href="MAKEFILE_BUILD_PAGE.html#MAKEFILE_EXAMPLE_BUILD">Building examples with makefiles</a> to do this.</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md160"></a>
Understanding Generated Files</h1>
<table class="doxtable">
<tr>
<th>Generated file </th><th>Description  </th></tr>
<tr>
<td>ti_dpl_config.c </td><td>Source file containing the configurations of various DPL modules like the AddrTranslate, MPU, Clock, Timer etc. This will also contain definitions of Dpl_init() and Dpl_deinit() functions  </td></tr>
<tr>
<td>ti_dpl_config.h </td><td>Header file containing declarations of Dpl_init() and Dpl_deinit() functions. This will also include the dpl interface header file, so that the application need not explicitly include that  </td></tr>
<tr>
<td>ti_drivers_config.c </td><td>Source file containing the configurations of various driver modules like UART, I2C, OSPI etc. This will also contain definitions of System_init() and System_deinit() functions. These functions will internally call init and deinit functions of respective drivers  </td></tr>
<tr>
<td>ti_drivers_config.h </td><td>Header file containing definitions of various macros related to the configuration of driver modules and declarations of System_init() and System_deinit() functions. This will also include the interface header files for the driver modules applicable, so that the application need not explicitly include that  </td></tr>
<tr>
<td>ti_drivers_open_close.c </td><td>Source file containing the open parameters of various driver modules like UART, I2C, OSPI etc. This will also contain definitions of Drivers_open() and Drivers_close() functions. These functions will internally call open and close functions of respective drivers. This file will also have the definitions of the handles of respective driver modules  </td></tr>
<tr>
<td>ti_drivers_open_close.h </td><td>Header file containing externs of handles and open params related to the configuration of driver modules and declarations of Drivers_open() and Drivers_close() functions  </td></tr>
<tr>
<td>ti_pinmux_config.c </td><td>Source file containing pinmux configuration data structures  </td></tr>
<tr>
<td>ti_power_clock_config.c </td><td>Source file containing power and clock configuration data for all the modules in the example and definition of PowerClock_init() and PowerClock_deinit() functions and other internal functions required to configure power and clock for the modules  </td></tr>
<tr>
<td>ti_board_config.c </td><td>Source file containing the configurations of various board modules like Flash, EEPROM, LED etc. This will also contain definitions of Board_init() and Board_deinit() functions. These functions will internally call init and deinit functions of respective board modules  </td></tr>
<tr>
<td>ti_board_config.h </td><td>Header file containing definitions of varios macros related to configurations of various board modules and declarations of Board_init() and Board_deinit() functions  </td></tr>
<tr>
<td>ti_board_open_close.c </td><td>Source file containing the open parameters of various board modules like Flash, EEPROM, LED etc. This will also contain definitions of Board_driversOpen() and Board_driversClose() functions. These functions will internally call open and close functions of respective modules. This file will also have the definitions of the handles of respective board modules  </td></tr>
<tr>
<td>ti_board_open_close.h </td><td>Header file containing externs of handles and open params related to the configuration of board modules and declarations of Board_driversOpen() and Board_driversClose() functions  </td></tr>
<tr>
<td>example.syscfg </td><td>Configuration file to which all the changes made in the GUI is saved  </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md161"></a>
Tips and Tricks for SysConfig</h1>
<ul>
<li>Changes made on SysConfig GUI will be saved in the example.syscfg file. If you need to quickly check what was the value configured for some parameter, you can open this file in an editor instead of opening the GUI. </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
