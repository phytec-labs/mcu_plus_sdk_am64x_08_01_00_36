<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" href="favicon.png" type="image/png">    
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<title>AM64x MCU+ SDK: Enet LLD Introduction</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<style>
.tinav {
    background: #c00;
    /* height: 41.375px; */
    height: 30px;
    }
</style>    
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 40px;">
  <td id="projectlogo"><a href="https://www.ti.com"><img alt="Logo" src="ti_logo.svg"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AM64x MCU+ SDK
   &#160;<span id="projectnumber">08.01.00</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
<div class=tinav></div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('enetlld_top.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Enet LLD Introduction </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#enetlld_intro">Introduction</a></li>
<li class="level1"><a href="#enetlld_api_overview">Application Programming Interface</a><ul><li class="level2"><a href="#autotoc_md756">Control path API</a></li>
<li class="level2"><a href="#autotoc_md757">Data path (DMA) API</a></li>
<li class="level2"><a href="#autotoc_md758">Life cycle of an Enet LLD based application</a></li>
</ul>
</li>
<li class="level1"><a href="#enetlld_enetpers">Enet Peripherals</a><ul><li class="level2"><a href="#enetper_cpsw">CPSW Peripheral</a></li>
<li class="level2"><a href="#enetper_icssg">ICSSG Peripheral</a><ul><li class="level3"><a href="#enetper_icssg_dualmac">ICSSG Dual-MAC</a></li>
<li class="level3"><a href="#enetper_icssg_switch">ICSSG Switch Mode</a></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><a href="#enetlld_hist">Document Revision History</a></li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="md_components_networking_enet_lld_mainpage"></a></p>
<hr  />
 <h1><a class="anchor" id="enetlld_intro"></a>
Introduction</h1>
<p>The Unified Ethernet Low-Level Driver (Enet LLD) is a driver that aims at providing an unified interface for the different Ethernet peripherals found in TI SoCs.</p>
<p>The Enet LLD is composed of the following layers: top-layer APIs, peripheral layer, module layer and CSL. The diagram below depicts the layers in the Enet LLD.</p>
<p><img src="EnetLLD_Diagram.png" alt="" class="inline" title="Enet LLD Block Diagram"/>   </p>
<p><a class="el" href="index.html">Back To Top</a></p>
<hr  />
 <h1><a class="anchor" id="enetlld_api_overview"></a>
Application Programming Interface</h1>
<p>The Enet LLD provides two sets of APIs: control and DMA.</p>
<h2><a class="anchor" id="autotoc_md756"></a>
Control path API</h2>
<p>The control API is an IOCTL-based interface which is used by applications to control the Ethernet peripheral and its submodules.</p>
<p>For further details on the top-level control APIs, refer to the <a class="el" href="group__ENET__MAIN__API.html">Enet Main API</a>.</p>
<h2><a class="anchor" id="autotoc_md757"></a>
Data path (DMA) API</h2>
<p>The DMA API is used by applications to perform data movement related operations, such as opening and closing DMA channels, submitting and retrieving packets from the underlying DMA controller.</p>
<p>For further details on the top-level control APIs, refer to the <a class="el" href="group__ENET__DMA__API.html">Enet Data Path (DMA)</a>.</p>
<h2><a class="anchor" id="autotoc_md758"></a>
Life cycle of an Enet LLD based application</h2>
<p>The following diagram shows the usage of Enet LLD top-level APIs by local and remote clients.</p>
<p><img src="Enet_Lifecycle.png" alt="" class="inline" title="Enet LLD life cycle"/>   </p>
<p><a class="el" href="index.html">Back To Top</a></p>
<hr  />
 <h1><a class="anchor" id="enetlld_enetpers"></a>
Enet Peripherals</h1>
<p>Enet LLD supports two families of Ethernet devices: CPSW and ICSSG.</p>
<h2><a class="anchor" id="enetper_cpsw"></a>
CPSW Peripheral</h2>
<p>Common Port SWitch (CPSW) subsystems is an IP providing networking functionality. It provide Ethernet packet communication between the connected port(s) and the System on Chip. The total number of ports include host port which is an internal port providing the packet streaming interface to the device internal cores. The external ports are MAC ports supporting Media Independent Interface (MII) like MII, Gigabit Media Independent Interface (GMII), Reduced Media Independent Interface (RMII), Reduced Gigabit Media Independent Interface (RGMII), Serial Gigabit Media Independent Interface (SGMII) and Quad Serial Gigabit Media Independent Interface (QSGMII). The MII modes supported vary based on device variant.</p>
<p><b>CPSW3G</b> is an integrated Ethernet switch IP with three-port: two MAC ports and a CPPI DMA host port. The CPSW3G switch facilitates the transfer of data between external ports along with internal traffic.</p>
<h2><a class="anchor" id="enetper_icssg"></a>
ICSSG Peripheral</h2>
<p>ICSSG supports two different modes: Dual-MAC and Switch.</p>
<h3><a class="anchor" id="enetper_icssg_dualmac"></a>
ICSSG Dual-MAC</h3>
<p>Each port in ICSSG Dual-MAC mode is abstracted in Enet LLD as different Enet peripherals as each port is a different logical entity.</p>
<p>This is shown in the table below:</p>
<table class="doxtable">
<tr>
<th>ICSSG Instance </th><th>Slice </th><th>Enet Peripheral </th><th>Enet MAC Ports </th></tr>
<tr>
<td rowspan="2">ICSSG0 </td><td>Slice 0 (Port 1) </td><td>EnetType: <a class="el" href="group__ENET__MAIN__API.html#ggaaccaa1593a07b1228ca35c6e6aefbf0fa1f88b6d4ca6bfff49e0816ba462527ae">ENET_ICSSG_DUALMAC</a> <br  />
 InstId: 0 </td><td><a class="el" href="group__ENET__MAIN__API.html#gga263f2a3003e793a56d3def727e2b6a4fa374942dc0d9af695a2844d886c069ff6">ENET_MAC_PORT_1</a> </td></tr>
<tr>
<td>Slice 1 (Port 2) </td><td>EnetType: <a class="el" href="group__ENET__MAIN__API.html#ggaaccaa1593a07b1228ca35c6e6aefbf0fa1f88b6d4ca6bfff49e0816ba462527ae">ENET_ICSSG_DUALMAC</a> <br  />
 InstId: 1 </td><td><a class="el" href="group__ENET__MAIN__API.html#gga263f2a3003e793a56d3def727e2b6a4fa374942dc0d9af695a2844d886c069ff6">ENET_MAC_PORT_1</a> </td></tr>
<tr>
<td rowspan="2">ICSSG1 </td><td>Slice 0 (Port 1) </td><td>EnetType: <a class="el" href="group__ENET__MAIN__API.html#ggaaccaa1593a07b1228ca35c6e6aefbf0fa1f88b6d4ca6bfff49e0816ba462527ae">ENET_ICSSG_DUALMAC</a> <br  />
 InstId: 2 </td><td><a class="el" href="group__ENET__MAIN__API.html#gga263f2a3003e793a56d3def727e2b6a4fa374942dc0d9af695a2844d886c069ff6">ENET_MAC_PORT_1</a> </td></tr>
<tr>
<td>Slice 1 (Port 2) </td><td>EnetType: <a class="el" href="group__ENET__MAIN__API.html#ggaaccaa1593a07b1228ca35c6e6aefbf0fa1f88b6d4ca6bfff49e0816ba462527ae">ENET_ICSSG_DUALMAC</a> <br  />
 InstId: 3 </td><td><a class="el" href="group__ENET__MAIN__API.html#gga263f2a3003e793a56d3def727e2b6a4fa374942dc0d9af695a2844d886c069ff6">ENET_MAC_PORT_1</a> </td></tr>
</table>
<p>It's worth clarifying that the first two columns ("ICSSG Instance" and "Slice") are in ICSSG nomenclature, while the last two columns ("Enet Peripheral" and "Enet MAC Ports") are in Enet LLD nomenclature. The Enet MAC port numbers in last column don't map one-to-one to the ICSSG port nomenclature, and one should refer to this table to find out the peripheral type and instance number to pass in <a class="el" href="group__ENET__MAIN__API.html#ga40325ec5d06d5d7788ec71609edd7ac0">Enet_open()</a>.</p>
<p>In the Enet LLD hierarchy, each Enet peripheral can have one or more MAC ports, starting at <a class="el" href="group__ENET__MAIN__API.html#gga263f2a3003e793a56d3def727e2b6a4fa374942dc0d9af695a2844d886c069ff6">ENET_MAC_PORT_1</a> id. Since Dual-MAC is implemented as separate Enet peripherals, each peripheral will have only one MAC port with id <a class="el" href="group__ENET__MAIN__API.html#gga263f2a3003e793a56d3def727e2b6a4fa374942dc0d9af695a2844d886c069ff6">ENET_MAC_PORT_1</a>.</p>
<h3><a class="anchor" id="enetper_icssg_switch"></a>
ICSSG Switch Mode</h3>
<p>ICSSG Switch mode is abstracted in a different way, as the two ports are logically tied to the same entity, the switch peripheral.</p>
<p>The peripheral and MAC port ids for Switch are shown below.</p>
<table class="doxtable">
<tr>
<th>ICSSG Instance </th><th>Slice </th><th>Enet Peripheral </th><th>Enet MAC Ports </th></tr>
<tr>
<td>ICSSG0 </td><td>Both slices </td><td>EnetType: <a class="el" href="group__ENET__MAIN__API.html#ggaaccaa1593a07b1228ca35c6e6aefbf0fa1c2fa2e7679fefc3f252649d57b8b750">ENET_ICSSG_SWITCH</a> <br  />
 InstId: 0 </td><td><a class="el" href="group__ENET__MAIN__API.html#gga263f2a3003e793a56d3def727e2b6a4fa374942dc0d9af695a2844d886c069ff6">ENET_MAC_PORT_1</a> <br  />
 <a class="el" href="group__ENET__MAIN__API.html#gga263f2a3003e793a56d3def727e2b6a4fa8c6c22f0c6900eb42d88039c8fea2e72">ENET_MAC_PORT_2</a> </td></tr>
<tr>
<td>ICSSG1 </td><td>Both slices </td><td>EnetType: <a class="el" href="group__ENET__MAIN__API.html#ggaaccaa1593a07b1228ca35c6e6aefbf0fa1c2fa2e7679fefc3f252649d57b8b750">ENET_ICSSG_SWITCH</a> <br  />
 InstId: 1 </td><td><a class="el" href="group__ENET__MAIN__API.html#gga263f2a3003e793a56d3def727e2b6a4fa374942dc0d9af695a2844d886c069ff6">ENET_MAC_PORT_1</a> <br  />
 <a class="el" href="group__ENET__MAIN__API.html#gga263f2a3003e793a56d3def727e2b6a4fa8c6c22f0c6900eb42d88039c8fea2e72">ENET_MAC_PORT_2</a> </td></tr>
</table>
<hr  />
 <h1><a class="anchor" id="enetlld_hist"></a>
Document Revision History</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Revision  </th><th class="markdownTableHeadNone">Date  </th><th class="markdownTableHeadNone">Author  </th><th class="markdownTableHeadNone">Description  </th><th class="markdownTableHeadNone">Status   </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">0.1  </td><td class="markdownTableBodyNone">17 Aug 2020  </td><td class="markdownTableBodyNone">Misael Lopez  </td><td class="markdownTableBodyNone">First version  </td><td class="markdownTableBodyNone">Draft   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">0.1  </td><td class="markdownTableBodyNone">1 Sept 2021  </td><td class="markdownTableBodyNone">Prasad Jondhale  </td><td class="markdownTableBodyNone">Updates for MCU+ SDK  </td><td class="markdownTableBodyNone">0.1   </td></tr>
</table>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
