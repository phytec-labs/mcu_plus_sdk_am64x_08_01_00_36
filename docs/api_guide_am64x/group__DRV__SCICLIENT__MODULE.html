<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" href="favicon.png" type="image/png">    
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<title>AM64x MCU+ SDK: APIs for SCI Client or SYSFW/DMSC FW</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<style>
.tinav {
    background: #c00;
    /* height: 41.375px; */
    height: 30px;
    }
</style>    
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 40px;">
  <td id="projectlogo"><a href="https://www.ti.com"><img alt="Logo" src="ti_logo.svg"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AM64x MCU+ SDK
   &#160;<span id="projectnumber">08.01.00</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
<div class=tinav></div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__DRV__SCICLIENT__MODULE.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Sub Modules</a>  </div>
  <div class="headertitle">
<div class="title">APIs for SCI Client or SYSFW/DMSC FW<div class="ingroups"><a class="el" href="group__DRV__MODULE.html">APIs for SOC Specific Device Drivers</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Introduction</h2>
<p>System Controller Interface (SCI) Client</p>
<dl class="section user"><dt>IMPORTANT NOTE</dt><dd><b> The interfaces defined in this package are bound to change. Release notes/user guide list the additional limitation/restriction of this module/interfaces. </b> <br  />
 <b> Refer to top level user guide for detailed features, limitations and usage description. </b></dd></dl>
<h2><a class="anchor" id="autotoc_md561"></a>
Introduction to SCICLIENT</h2>
<p>The SCIClient is an interface to the TI-SCI protocol for RTOS and non-OS based applications. It exposes the core message details, valid module/clock IDs to the higher level software and abstracts the communication with the firmware based on the TI-SCI protocol. These APIs can be called by power, resource and security RTOS drivers or any other non-OS or RTOS based higher level software to be able to communicate with DMSC for its services. The higher level software is expected to populate the necessary message core parameters. The SCIClient would wrap the core message with the necessary protocol header and forward this to the DMSC. The SCIClient relies on the CSL-FL layer to program and interact with the Secure Proxy Threads. The SCIClient's goal is to ensure there is no duplication of the interface to the DMSC from different software components which need to interact with the DMSC or other System Control Entities in future devices. The Sciclient contains</p><ul>
<li><a class="el" href="group__SCICLIENT__HAL.html">System Controller Interface (SCI) Client HAL</a></li>
<li><a class="el" href="group__SCICLIENT__FMW__PM__IF.html">Sciclient PM API Interface</a></li>
<li><a class="el" href="group__SCICLIENT__FMW__RM__IF.html">Sciclient RM API Interface</a></li>
<li><a class="el" href="group__SCICLIENT__FMW__PROCBOOT__IF.html">Sciclient Processor Boot API Interface</a></li>
<li><a class="el" href="group__SCICLIENT__ROM__HAL.html">Sciclient Interface to DMSC ROM</a></li>
</ul>
<h2><a class="anchor" id="autotoc_md562"></a>
Introduction to DMSC</h2>
<p>Traditional Texas Instruments SoCs have implemented system control functions such as power management within operating systems on each of the processing units (ARM/DSP). However, such a traditional approach has had tremendous challenges to ensure system stability. Few of the challenges faced include:</p>
<ul>
<li>Complex interactions between Operating Systems on heterogeneous SoCs for generic features.</li>
<li>Lack of centralized knowledge of system state.</li>
<li>Consistency in SoC feature entitlement in all OSes for the SoC for complex SoC features and system quirks.</li>
</ul>
<p>Device Management and Security control (DMSC) attempts to resolve these issues by being a consistent component of Keystone 3 SoC architecture performing the role of a centralized SoC power, security and device management controller.</p>
<p>In effect, this is a microcontroller and runs a safety and security certified firmware that provides services to the rest of the OSes/Software running on various other processors on the SoC.</p>
<h3><a class="anchor" id="autotoc_md563"></a>
DMSC Power Management</h3>
<p>DMSC controls the power management of the device, hence is responsible for bringing the device out of reset, enforce clock and reset rules. DMSC power management functions are critical to bring device to low power modes, for example DeepSleep, and sense wake-up events to bring device back online to active state.</p>
<h3><a class="anchor" id="autotoc_md564"></a>
DMSC Security Management</h3>
<p>The DMSC firmware Security Management manages SoC central security resources. The security subsystem provides APIs to other software entities to avail these features in a controlled and secure way. The security management firmware is subdivided into modules listed below:</p><ul>
<li>Firewall management</li>
<li>ISC management</li>
<li>Boot authentication</li>
<li>SA2UL context management (for encryption and authentication)</li>
<li>Crypto APIs (to access common SA2UL functions such as PKA, RNG)</li>
<li>Secure keys management</li>
<li>Secure debug</li>
</ul>
<h3><a class="anchor" id="autotoc_md565"></a>
DMSC Resource Management</h3>
<p>The DMSC firmware Resource Management (RM) (sub) system manages SoC shared resources. RM manages access and configuration of shared resources amongst SoC processing entities. RM provides a set of interfaces over which SoC processing entities can allocate and free access to shared resources.</p>
<p>The resource management firmware is subdivided into modules listed below:</p><ul>
<li>Core database</li>
<li>IRQ management</li>
<li>Ring accelerator management</li>
<li>UDMA-P management</li>
<li>PSI-L management</li>
<li>Non-secure proxy management</li>
</ul>
<h3><a class="anchor" id="autotoc_md566"></a>
Communication with DMSC</h3>
<p>DMSC is a "black box" with respect to the other processing entities (ARM/DSP) on the SoC. Communication with DMSC occurs over a messaging protocol called the Texas Instruments System Control Interface (TI-SCI). TI-SCI is a predefined request-response protocol that provides access to the various services provided by DMSC.</p>
<p>The actual messaging hardware block varies depending on SoC, but typical examples include "Proxy over message manager" and "Secure Proxy over Ring Accellerator". These communication mechanisms are standardized and secured by DMSC firmware prior to operation.</p>
<p>The request/response format is described overall as in Figure 2 . The message type describes the service to be performed and is operated on depending on few attributes including privileges allowed and operational state of the SoC.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Type  </th><th class="markdownTableHeadCenter">Byte Index  </th><th class="markdownTableHeadCenter">Data Type  </th><th class="markdownTableHeadLeft">Header   </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">TISCI Header  </td><td class="markdownTableBodyCenter">[0:1]  </td><td class="markdownTableBodyCenter">U16  </td><td class="markdownTableBodyLeft">Message_type   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"></td><td class="markdownTableBodyCenter">[2]  </td><td class="markdownTableBodyCenter">U8  </td><td class="markdownTableBodyLeft">Host   </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"></td><td class="markdownTableBodyCenter">[3]  </td><td class="markdownTableBodyCenter">U8  </td><td class="markdownTableBodyLeft">Sequence_id   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"></td><td class="markdownTableBodyCenter">[4:7]  </td><td class="markdownTableBodyCenter">U32  </td><td class="markdownTableBodyLeft">Flags   </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">Payload  </td><td class="markdownTableBodyCenter" colspan="2">Depends on type of message  </td><td class="markdownTableBodyLeft">Payload Fields   </td></tr>
</table>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Sub Modules</h2></td></tr>
<tr class="memitem:group__SCICLIENT__FMW__DKEK__IF"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SCICLIENT__FMW__DKEK__IF.html">Sciclient DKEK API Interface</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__SCICLIENT__FMW__FIREWALL__IF"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SCICLIENT__FMW__FIREWALL__IF.html">Sciclient Firewall API Interface</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__SCICLIENT__FMW__PM__IF"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SCICLIENT__FMW__PM__IF.html">Sciclient PM API Interface</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__SCICLIENT__FMW__PROCBOOT__IF"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SCICLIENT__FMW__PROCBOOT__IF.html">Sciclient Processor Boot API Interface</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__SCICLIENT__FMW__RM__IF"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SCICLIENT__FMW__RM__IF.html">Sciclient RM API Interface</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__SCICLIENT__HAL"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SCICLIENT__HAL.html">System Controller Interface (SCI) Client HAL</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__TISCI"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TISCI.html">Texas Instruments System Controller Interface</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
